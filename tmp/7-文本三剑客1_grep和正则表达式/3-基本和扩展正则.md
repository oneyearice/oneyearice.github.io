# ç¬¬3èŠ‚ åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™



ä¸¾ä¸ªä¾‹å­

```
[^ming]  ä¸æ˜¯mã€iã€nã€gçš„å­—ç¬¦
[0-9]
[[:lower:]]   ä»»æ„ä¸€ä¸ªå°å†™å­—æ¯
. ä»»æ„ä¸€ä¸ªé\nçš„å­—ç¬¦
* å‰ä¸€ä¸ªå­—ç¬¦å‡ºç°0æ¬¡æˆ–Næ¬¡

a\?   aå‡ºç°äº†0æ¬¡æˆ–1æ¬¡ï¼Œå¯æœ‰å¯æ— çš„è¡¨è¾¾æ–¹å¼
a\+   aå‡ºç°1æ¬¡åŠä»¥ä¸Š
a\{10\}   aå‡ºç°äº†10æ¬¡
a\{10,20\}   10åˆ°20æ¬¡
a\{,20\}     20æ¬¡ä»¥ä¸‹
a\{10,\}     10æ¬¡ä»¥ä¸Š

.* æ‰€æœ‰ä½†æ˜¯ä¸èƒ½åŒ¹é…\nï¼Œæ‰€ä»¥ä½ ç”¨.*æŠ“å…¨æ–‡åªèƒ½æŠ“åˆ°æ¢è¡Œç¬¦å°±ç»“æŸäº†ï¼Œ
.*ç­‰ä»·äºé€šé…ç¬¦é‡Œçš„*

```



## ä½ç½®é”šå®š

<img src="3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220201164946816.png" alt="image-20220201164946816" style="zoom:67%;" /> 

```
[16:47:46 root@host1 ~]#grep -v "^#" /etc/fstab

/dev/mapper/centos_host1-root /                       xfs     defaults        0 0
UUID=e36eac36-1940-4883-8c19-a05f6b4bb4a6 /boot                   xfs     defaults        0 0
/dev/mapper/centos_host1-swap swap                    swap    defaults        0 0
[16:47:55 root@host1 ~]#
[16:47:56 root@host1 ~]#
[16:47:56 root@host1 ~]#grep ^[^#] /etc/fstab
/dev/mapper/centos_host1-root /                       xfs     defaults        0 0
UUID=e36eac36-1940-4883-8c19-a05f6b4bb4a6 /boot                   xfs     defaults        0 0
/dev/mapper/centos_host1-swap swap                    swap    defaults        0 0
[16:48:07 root@host1 ~]#

```

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image006.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image008.jpg)

ä¸Šå›¾æ³¨æ„ä¸‹ï¼Œgrep -v "^#" å’Œ grep "^\[^#\]"çš„åŒºåˆ«ï¼Œæ˜æ˜¾ç¬¬äºŒç§ä¹Ÿè¿‡æ»¤ç©ºè¡Œã€‚å› ä¸º\[^#]é‡Œé¢è‡³å°‘çš„åˆä¸€ä¸ªå­—ç¬¦çš„ã€‚

![image-20220704194451091](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220704194451091.png)

è¿™ç§\[^#\]å†™æ³•æ˜¯æœ‰é—®é¢˜çš„ï¼Œä¸æ¨èè¿™ä¹ˆå†™ã€‚



![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image010.jpg)

æœç´¢shutdownè¡Œå°¾ğŸ‘†

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image012.jpg)

![image-20220704194648828](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220704194648828.png)

[[:space:]]ä»–ä¸ä»…ä»…æŠ“ç©ºæ ¼ï¼Œè¿˜æŠ“TABã€‚å½“ç„¶ä¸Šå›¾å…¶å®éƒ½æ˜¯ç©ºæ ¼ï¼Œå› ä¸ºåšäº†4ç©ºæ ¼ç­‰1tabçš„è®¾ç½®ï¼Œå–æ¶ˆåå†éªŒè¯ä¸‹

![image-20220704195538052](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220704195538052.png)

è¿˜æ˜¯[[:space:]]èƒ½å¤ŸæŠ“åˆ°ç©ºæ ¼å’ŒTABçš„ã€‚æ²¡é—®é¢˜ã€‚æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼Œcat -A æ˜¯èƒ½å¤ŸåŒºåˆ†TABå’Œç©ºæ ¼çš„ï¼Œä½†æ˜¯å¦‚æœä½ ä¼˜åŒ–äº†tab=4ç©ºæ ¼ï¼Œé‚£ä¹ˆå°±è‡ªç„¶éƒ½æ˜¯ç©ºæ ¼äº†ã€‚-Açœ‹åˆ°çš„éƒ½æ˜¯ç©ºæ ¼äº†å°±ã€‚

æœç´¢ç©ºè¡ŒğŸ‘†

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image014.jpg)

 



## å•è¯ï¼šåœ¨ç³»ç»Ÿä¸­ï¼Œæ•°å­—å­—æ¯ä¸‹åˆ’çº¿éƒ½ç®—å•è¯çš„èŒƒç•´ã€‚æ­¤å¤–éƒ½ä¸ç®—å•è¯ã€‚

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image016.jpg)

## ç©ºè¡Œæ˜¯^$,ç©ºç™½è¡Œ^[[:space:]]*$

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image018.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image020.jpg)

 

 <img src="3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220201171226905.png" alt="image-20220201171226905" style="zoom: 67%;" />

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image024.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image026.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image028.jpg)

æ³¨æ„ï¼Œå†™çš„æ€è·¯ï¼š

:%s///g

:%s/(abc)(123)/1eradmin2/g

:%s/\(abc\)\(123\)/\1eradmin\2/g

 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image030.jpg)

## ğŸ‘†è¿™ä¸ªå«åå‘å¼•ç”¨ï¼Œåœ¨åé¢çš„sedæœç´¢æ›¿ä»£æœ‰å…³

nginxé‡Œä¹Ÿæœ‰åå‘å¼•ç”¨çš„

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image032.jpg)

 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image034.jpg)

```
[17:30:32 root@host1 ~]#echo rootrootxxroot |grep -E "(root){2}"
rootrootxxroot
ğŸ‘†æŠ“ä¸¤è¿ç»­çš„root
```



![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image036.jpg)

 

![image-20220201173337254](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220201173337254.png)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image040.jpg)



## ç»ƒä¹ 

![image-20220201173403168](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220201173403168.png)

```
4é¢˜
cat /etc/passwd |grep -E "[0-9]{2,3}" -o | grep -Ev ^0   ğŸ‘ˆè¿™æ˜¯é”™è¯¯çš„ï¼Œå› ä¸º4ä½æ•°ä¹Ÿä¼šæœå‡ºæ¥çš„æ¯”å¦‚65534è¿™ä¸ªæ•°å­—ä¹Ÿä¼šå½“ä½œ655å’Œ34ä¸¤ä¸ªåŒ¹é…ç»“æœçš„ï¼Œéœ€è¦è¯å°¾é”šå®š
cat /etc/passwd |grep -E "/<[0-9]{2,3}/>" -o | grep -Ev ^0
```

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image044.jpg)

æ³¨æ„è¯¥æ–¹æ³•ç”±äºæ˜¯:xx:æ‰€ä»¥å¯¹äºåé¢çš„æ•°å­—æ˜¯ä¸åŒ¹é…çš„ã€‚

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image046.jpg)

 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image048.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image050.jpg)

æ–¹æ³•ä¸€è‚¯å®šåªèƒ½æ˜¯æŠ“å‡ºç¬¬ä¸€ä¸ªæ®µæ•°å­—ï¼Œ

æ–¹æ³•äºŒå¯ä»¥åŒ¹é…æ‰€æœ‰æ•°å­—

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image052.jpg)

 

\---

 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image054.jpg)

 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image056.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image058.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image060.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image062.jpg)

 è¯å°¾é“†é’‰çš„å¿…è¦æ€§ğŸ‘‡

![image-20220704203540700](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220704203540700.png)



 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image064.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image066.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image068.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image070.jpg)

##  æ‰©å±•æ­£åˆ™

<img src="3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220201185942141.png" alt="image-20220201185942141" style="zoom:67%;" /> 



![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image074.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image076.jpg)

grep -Eè¿˜æ˜¯æœ‰ä¸€äº›è¿˜æ˜¯éœ€è¦åŠ \çš„ã€‚

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image078.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image080.jpg)

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image082.jpg)

##  nginxçš„åå‘å¼•ç”¨ä¸¾ä¾‹

<img src="3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/image-20220202123133594.png" alt="image-20220202123133594" style="zoom:80%;" /> 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image002.jpg)

è¿™æ˜¯nginxé‡Œçš„rewriteæ›¿æ¢çš„æ­£åˆ™å†™æ³•

 

 

![img](3-åŸºæœ¬å’Œæ‰©å±•æ­£åˆ™.assets/clip_image004-16437771516571.jpg)

windowsé‡Œä¹Ÿæœ‰æ­£åˆ™
