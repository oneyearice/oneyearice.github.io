# ç¬¬4èŠ‚. nginxå®ç°webæœåŠ¡å™¨01



# nginxçš„httpçš„è¯­å¥å—é…ç½®

## ä¸»è¦æ˜¯[ngx_http_core_module](https://nginx.org/en/docs/http/ngx_http_core_module.html)è¿™ä¸ªæ¨¡å—

![image-20231101133651770](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101133651770.png)



MIMEå‚è€ƒæ–‡æ¡£ï¼š

https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_Types



![image-20231101134517371](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101134517371.png)

ä¸å†™includeï¼Œå°±å†™typeåŒæ ·æ”¾åˆ°httpè¯­å¥å—ä¸‹



default_typeæ˜¯æœ‰é»˜è®¤å€¼çš„

![image-20231101135939525](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101135939525.png)



ä½†æ˜¯é€šå¸¸yumå’Œç¼–è¯‘éƒ½ä¼šç»™ä½ æ”¹æˆ

![image-20231101140109966](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101140109966.png)

è¿™ä¸ªï¼Œè¿™ä¸ªå°±æ˜¯é™¤äº†æ˜ç¡®çš„ç±»å‹ä»¥ä¸ºï¼Œæµè§ˆå™¨ä¸èƒ½è¯†åˆ«äº†å°±ï¼Œæ­¤æ—¶ç»Ÿç»Ÿæç¤ºä¸‹è½½ã€‚

![image-20231101141351088](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101141351088.png)

### æµ‹è¯•ä¸‹default_type application/octet-streamçš„æ•ˆæœ

![image-20231101142417793](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101142417793.png)



![image-20231101142328223](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101142328223.png)

å¦‚æœæ˜¯æ— ç—•æ¨¡å¼çš„æµè§ˆå™¨ï¼Œä¼šç›´æ¥å¼¹ å¦å­˜ä¸º çš„å¯¹è¯æ¡†ï¼Œä¹Ÿæ˜¯ä¸‹è½½çš„åŠ¨ä½œã€‚



é€šè¿‡curl çœ‹çœ‹å¤´éƒ¨

![image-20231101142643657](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101142643657.png)

curl ä¸åŠ -I è²Œä¼¼è¿˜æ˜¯ç›´æ¥ä»¥æ–‡æœ¬æ‰“å¼€äº†å°±

![image-20231101142729917](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101142729917.png)

æ³¨é‡Šæ‰ä½¿å…¶ä½¿ç”¨é»˜è®¤çš„text/plainæ ¼å¼

![image-20231101142956470](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101142956470.png)

![image-20231101143006157](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101143006157.png)



**çœ‹ä¸‹phpæ–‡ä»¶çš„è¯†åˆ«**

![image-20231101143337930](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101143337930.png)

é»˜è®¤å°±æ˜¯ä¸æ”¯æŒçš„

å†™ä¸€ä¸ªphpæ–‡ä»¶æ¥å®éªŒ

![image-20231101143448439](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101143448439.png)

ç”±äºä¸æ”¯æŒ.phpæ‰€ä»¥æ‰“å¼€è¯¥URLé»˜è®¤å°±æ˜¯ä¸‹è½½è¯¥æ–‡ä»¶çš„ï¼Œå¯¹æ¯”ä¹‹å‰apacheçš„æ•ˆæœï¼Œæˆ‘æœ‰ä¸¤ä¸ªapacheâ‘ ä¸ªyumå®‰è£…â‘¡ä¸€ä¸ªç¼–è¯‘å®‰è£…ï¼Œå…¶å®ä¸ç®¡æ˜¯yumè¿˜æ˜¯ç¼–è¯‘éƒ½ä¸æ”¯æŒphpæ–‡ä»¶çš„æµè§ˆå™¨ç›´æ¥æ‰“å¼€ï¼Œåªä¸è¿‡yumå®‰è£…çš„apacheï¼Œåæ¥åˆyumå®‰è£…äº†phpï¼Œäºæ˜¯

![image-20231101145039676](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101145039676.png)

è¿™å°±æ‰¾åˆ°äº†cliçš„å‡ºå¤„å•¦ï¼Œæ­£å¼å› ä¸ºyum install phpæ‰æœ‰äº†httpdé…ç½®æ–‡ä»¶é‡Œçš„å“ªä¸ªphp.confä¸”æ”¾åœ¨äº†conf.dä¸‹ï¼Œæ‰æœ‰äº†httpdæµè§ˆå™¨æ‰“å¼€äº†phpæ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œä»¥æ­¤ç±»æ¨ç°åœ¨nginxä¹Ÿè¦è¿™ä¹ˆæä¸€ä¸‹ã€‚

![image-20231101145204626](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101145204626.png)



![image-20231101154824667](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101154824667.png)

ä½†æ˜¯æˆ‘ç°åœ¨çš„nginxæ˜¯ç¼–è¯‘å®‰è£…çš„ï¼Œæ‰€ä»¥æˆ‘éœ€è¦å°è¯•è’‹è¿™ä¸ªphp.confå¤åˆ¶åˆ°ç¼–è¯‘çš„è·¯å¾„ä¸‹

![image-20231101155629430](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101155629430.png)

æ²¡ç”¨phpé‡Œçš„ngnixå…³é”®å­—çš„æ–‡ä»¶é‡Œéƒ½æ²¡æœ‰text/html .phpä¹‹ç±»çš„å­—çœ¼ï¼Œç®€å•ç½‘é€Ÿæœäº†ä¸‹nginxå¯¹phpçš„æ”¯æŒä¸æƒ³apacheä¸€æ ·ç®€å•ã€‚å…·ä½“æ“ä½œå‚è§ä»¥ä¸‹æ•™ç¨‹ğŸ‘‡

https://blog.51cto.com/928004321/1744675

https://www.php.cn/faq/476519.html



### tcp_nodelay on; å¯ä¼˜åŒ–æŠ¥æ–‡ç¡®è®¤é¢‘æ¬¡ï¼Œæé«˜ä¼ è¾“æ•ˆç‡

![image-20231101164742749](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101164742749.png)



æ®è¯´æ˜¯å½“ æ•°æ®æŠ¥æ–‡æ¯”è¾ƒå¤§çš„æ—¶å€™æ‹†åŒ…ä¼ è¾“äº†å°±ï¼Œæ­¤æ—¶å°±ä¸€ä¸‹å‘å¥½å‡ ä¸ªåŒ…ï¼Œç„¶åå†ç¡®è®¤ä¸€æ¬¡å°±æ¯”è¾ƒåˆç†äº†ã€‚

å…¶å®æ•°æ®æŠ¥æ–‡å°çš„æ—¶å€™ä¸æ¶‰åŠæ‹†åŒ…ï¼ŒåŒæ ·ä¹Ÿèƒ½æé«˜æ•ˆç‡ï¼Œåªæ˜¯æ•°æ®é‡å°ï¼Œèµ„æºæ¶ˆè€—å°ï¼Œç³»ç»Ÿä¹Ÿå¥½ç¡¬ä»¶ä¹Ÿç½¢èƒ½å¯¹ä»˜å¾—äº†ï¼Œæ•°æ®é‡å¤§çš„æ—¶å€™èµ„æºæ¶ˆè€—å¤§äº†ï¼Œæ­¤æ—¶å°±ä¼šä»å„ä¸ªæ–¹é¢ä¼˜åŒ–ï¼Œæ‰éœ€è¦tcp_nodely onå¤šåŒ…ç¡®è®¤ä¸€æ¬¡ã€‚



### tcp_nopush on;  å¯ä¼˜åŒ–æŠ¥æ–‡åˆå¹¶æé«˜ï¼Œæé«˜ä¼ è¾“æ•ˆç‡



### ![image-20231101165302878](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101165302878.png)





![image-20231101165729757](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101165729757.png)

é»˜è®¤æ˜¯offä¸æ˜¾ç¤ºçš„

![image-20231101170035018](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101170035018.png)

ä¹Ÿå¯ä»¥åˆ©ç”¨"include conf.d/*.conf"å»å•å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ç†è§£å°±æ˜¯includeæ˜¯åœ¨è¿™ä¸ªè¯­å¥å—ä¹Ÿå°±æ˜¯è¿™ä¸ªç¼©è¿›å±‚çº§ä¸‹çš„ï¼Œæ‰€ä»¥æ–°å»ºçš„xxx.confé‡Œçš„å†…å®¹ä¹Ÿåªåæ˜ åˆ°è¿™ä¸ªè¯­å¥å—å±‚çº§ä¸‹çš„ã€‚

![image-20231101171212860](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101171212860.png)

åªæ˜¯ä¸ªæ˜¾ç¤ºè€Œå·²ã€‚



### server_tokens on|off|build|string;

![image-20231101171341677](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101171341677.png)

stringæ˜¯å•†ä¸šç‰ˆçš„nginxæ‰æ”¯æŒçš„ã€‚

![image-20231101172519258](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101172519258.png)

buildå‚æ•°å°±ä¸æ˜¯ç®€å•ä¿®æ”¹äº†çš„ï¼Œ

![image-20231101172714900](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101172714900.png)

![image-20231101172748320](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101172748320.png)

![image-20231101172802960](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101172802960.png)

æ‰€ä»¥buildæ˜¯ç¼–è¯‘çš„æ—¶å€™ï¼Œé€šè¿‡--build=xx.xxx.v1001ï¼Œç„¶åé…ç½®æ–‡ä»¶é‡Œå†™server_tokens build;æ‰ä¼šæœ‰æ•ˆæœçš„ã€‚ 

æˆ–è€…ä¿®æ”¹æºç æ–‡ä»¶é‡Œçš„å…³é”®å­—æ®µï¼›server_tokens onæˆ–è€…offéƒ½èƒ½æ”¹ï¼Œæ”¹çš„åœ°æ–¹ä¸åŒğŸ‘‡

![image-20231101175953946](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101175953946.png)

server_tokens on;ä¿®æ”¹ğŸ‘‡

![image-20231101175749099](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101175749099.png)

æ”¹æˆï¼š

![image-20231101181415647](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101181415647.png)

server_tokens off;ä¿®æ”¹ğŸ‘‡

![image-20231101180159940](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101180159940.png)

æ”¹æˆï¼š

![image-20231101181506260](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101181506260.png)



å½“ç„¶æ”¹å®Œè¿˜éœ€è¦é‡æ–°ç¼–è¯‘äº†

é‚£ä¹ˆå°±é‡æ–°å˜ä¸€ä¸‹çœ‹çœ‹

ç¼–è¯‘ä¹‹å‰çœ‹ä¸‹äºŒè¿›åˆ¶ä¸»ç¨‹åºçš„å“ˆå¸Œå€¼

![image-20231101180854787](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101180854787.png)

æ‹…å¿ƒè½¯è¿æ¥çš„å“ˆå¸Œï¼Œç¡®è®¤ä¸‹ï¼Œä¸æ˜¯å“¦ï¼Œå°±æ˜¯æºæ–‡ä»¶çš„å“ˆå¸Œ

![image-20231101180931154](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101180931154.png)

å¼€å§‹ç¼–è¯‘ï¼Œctrl+rè°ƒå‡ºå†å²å‘½ä»¤å›è½¦å°±è¡ŒğŸ‘‡

![image-20231101181009188](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101181009188.png)

![image-20231101181651972](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101181651972.png)



![image-20231101181745430](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101181745430.png)



é‚£ä¸ªæ­¤æ—¶ä¹‹å‰çš„nginxæœåŠ¡è¿˜åœ¨ï¼Œä¸ä¼šåœï¼Œå› ä¸ºä½ ç”¨çš„ä¹‹å‰çš„nginxäºŒè¿›åˆ¶å¯åŠ¨çš„æœåŠ¡ï¼Œä½ é‡æ–°ç¼–è¯‘å…¶å®ä¹Ÿå°±æ˜¯å¯¹è¿™ä¸ªäºŒè¿›åˆ¶è¿›è¡Œå˜åŒ–å§ï¼Œæ‰€ä»¥ä¹‹å‰å·²ç»å¯åŠ¨äº†çš„æœåŠ¡ä¸å—å½±å“ï¼ŒæœåŠ¡ç¨‹åºç»§ç»­å¯¹å¤–æä¾›æœåŠ¡ã€‚



æ­¤æ—¶æƒ³ç”¨nginx -s reloadçœ‹åˆ°æ•ˆæœæ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¿®æ”¹çš„/apps/nginx/sbin/nginxäºŒè¿›åˆ¶ç¨‹åºé‡Œçš„ä¸œè¥¿ï¼Œä¸æ˜¯é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦é‡å¯æœåŠ¡åæ‰èƒ½çœ‹åˆ°æ•ˆæœ



![image-20231101182807915](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101182807915.png)



ç„¶åä¿®æ”¹server_tokenä¸ºonï¼Œreloadé…ç½®æ–‡ä»¶å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ğŸ‘‡

![image-20231101183245161](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231101183245161.png)





## serveråœ¨å¾ˆå¤šæ¨¡å—é‡Œéƒ½æœ‰

![image-20231102092239228](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102092239228.png)

ä¸‹é¢æ¢³ç†coreæ¨¡å—é‡Œçš„server

serverå°±æ˜¯è™šæ‹Ÿä¸»æœº

![image-20231102092826522](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102092826522.png)

![image-20231102093458093](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102093458093.png)



listen PORT|address[:port]|unix:/PATH/TO/SOCKET_FILE

listenå¯ä»¥å†™portã€ip+portã€unixå¥—æ¥å­—çš„è·¯å¾„ã€‚ä½†æ˜¯å†™unix socketå°±åªèƒ½æœ¬æœºè®¿é—®äº†ã€‚

default_serverï¼šé»˜è®¤è™šæ‹Ÿä¸»æœºï¼Œå°±æ˜¯æ²¡æœ‰å‘½ä¸­çš„ç»Ÿç»Ÿç”¨è¿™ä¸ªè™šæ‹Ÿä¸»æœºæ¥å“åº”ï¼Œè¿™é‡Œåœ¨apacheé‡Œæ˜¯ä¸ç”¨è®¾ç½®ï¼Œæ‹æœ€å‰é¢çš„virtualHostå°±æ˜¯é»˜è®¤çš„ã€‚



### é…ç½®serverå®éªŒ

é»˜è®¤çš„ä¸ç”¨åŠ¨ï¼Œåˆ©ç”¨include xx/xx/conf.d/*.confå†™åˆ°ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶é‡Œå»

![image-20231102140055454](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102140055454.png)

é»˜è®¤çš„é¡µé¢è·¯å¾„yumå®‰è£…çš„è¯åœ¨/usr/share/nginx/html/ä¸‹ï¼Œæ–°å»ºä¸¤ä¸ªåˆ°/dataä¸‹

![image-20231102133649626](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102133649626.png)

æ–°å»ºé…ç½®æ–‡ä»¶ï¼Œlistenä¸å†™é»˜è®¤å°±æ˜¯80

![image-20231102135508622](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102135508622.png)

åšä¸€ä¸‹dnsè§£æï¼Œdnsçš„æ„ä¹‰â‘ ï¼Œå¦åˆ™åŸŸåæ— æ³•ç¿»è¯‘æˆIPï¼Œæ— æ³•åœ¨ç½‘ç»œä¸­å¯»å€è·¯ç”±å¯è¾¾ï¼Œâ‘¡åŒæ—¶è¯·æ±‚çš„åŸŸåä¹Ÿä¼šå†™é“httpå¤´é‡Œçš„hostå­—æ®µé‡Œï¼Œä½œä¸ºnginxå¤„ç†è½¬åˆ°å…·ä½“è™šæ‹Ÿserverçš„ä¾æ®--server_nameã€‚



![image-20231102135945434](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102135945434.png)

![image-20231102140621805](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102140621805.png)

å¦‚æœè®¿é—®çš„ç«™ç‚¹ä¸å‘½ä¸­serverå­—æ®µï¼Œé‚£ä¹ˆå°±æ˜¯èµ°çš„default_serveräº†ã€‚è€Œé»˜è®¤ä¸»é…ç½®æ–‡ä»¶é‡Œå¥½åƒä¹Ÿæ²¡æœ‰æ˜ç¡®é…ç½®default_serverï¼Œæ‰€ä»¥æŒ‰ä»–è¯´æ³•å°±æ˜¯ç¬¬ä¸€ä¸ªï¼Œè€Œä¸»é…ç½®æ–‡ä»¶é‡Œæ²¡æœ‰serverï¼Œå°±å»conf.d/ä¸‹æ‰¾ç¬¬ä¸€ä¸ªæ–‡ä»¶é‡Œçš„serverğŸ‘‡

![image-20231102141417426](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102141417426.png)

äººä¸ºä¿®æ”¹ä¸ºsite2ä¸ºdefault_server

ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶çš„åç§°ï¼ŒæŠŠdefault.confæ‹åˆ°ç¬¬ä¸€ä¸ªå»

![image-20231102142016637](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102142016637.png)

ç„¶åè®¾ç½®site.confé‡Œçš„site2ä¸ºé»˜è®¤server

![image-20231102142422556](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102142422556.png)

ä¸»æœºå¤´ä¹Ÿå°±æ˜¯server_nameå¯ä»¥å¤šä¸ªç”¨ç©ºæ ¼åˆ†éš”

![image-20231102143020455](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102143020455.png)

listen ip :port å’Œserver_nameå°±ç­‰ä»·äºapacheé‡Œçš„è™šæ‹Ÿä¸»æœºip:portå’Œservernameã€‚åŒ¹é…é€»è¾‘å¯é¢„è§çš„ä¸€æ ·

è¿˜æ˜¯å…ˆçœ‹ipå’Œportï¼Œå¦‚æœipå’Œportä¸€æ ·å†çœ‹servernameã€‚



![image-20231102144037664](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102144037664.png)

åŒ¹é…ä¸ä¸­çš„ï¼Œè‡ªç„¶å°±é»˜è®¤èµ°default_serverï¼Œå³ä½¿æ²¡æœ‰é…ç½®default_serverï¼Œå…¶å®ä¹Ÿæ˜¯å­˜åœ¨çš„ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªserverã€‚

åŒ¹é…é¡ºåºï¼šç²¾ç¡®>é€šé…ç¬¦(å·¦>å³)>æ­£åˆ™>default_server

![image-20231102150444226](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102150444226.png)

![image-20231102150742427](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102150742427.png)





### rooté¡µé¢è·¯å¾„

![image-20231102152533970](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102152533970.png)





### location

![image-20231102152659930](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102152659930.png)



![image-20231102152846616](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102152846616.png)



æ²¡æœ‰å®šä¹‰locationçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„è®¿é—®urléƒ½æ˜¯serverä¸‹çš„rootè·¯å¾„ä¸‹çš„ç›®å½•ã€‚

ç”¨äº†locationå¯ä»¥å•ç‹¬å°†æŸä¸ªurlæŒ‡å‘åˆ«çš„ä¸å†rootä¸‹çš„è·¯å¾„ã€‚

![image-20231102154725882](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102154725882.png)

è€Œçœ‹èµ·æ¥locationçš„å€¼ä¹Ÿä¸ä¸€å®šå¿…é¡»æ˜¯ä¸€ä¸ªç›®å½•ï¼Œè¯•è¯•æ–‡ä»¶ï¼šç»“è®ºğŸ‘†ä¸Šé¢testæ˜¯æ–‡ä»¶å¤¹æ‰€ä»¥curlçš„æ—¶å€™test/ä¸å¸¦/å°±æŠ¥é”™ï¼Œå¸¦ä¸Š/å°±è¡¨ç¤ºtest/index.htmlï¼›ğŸ‘‡ä¸‹é¢testæ˜¯æ–‡ä»¶ï¼Œæ‰€ä»¥curlçš„æ—¶å€™testå¸¦ä¸Š/å°±æŠ¥é”™ï¼Œä¸å¸¦å°±æ˜¯æ–‡ä»¶å¤„ç†äº†ï¼Œå‘µå‘µçƒ¦æ­»äº†ã€‚

<img src="4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102155031035.png" alt="image-20231102155031035" style="zoom:43%;" /> 

å°±æœ‰ç‚¹æå•Š

testæ˜¯å‡ºäºurlçš„ä¸­é—´ä½ç½®çš„ï¼Œåº”æ˜¯locationçš„åŒ¹é…è§„åˆ™ä¸­çš„ä¸€ç§ã€‚

![image-20231102155633461](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102155633461.png)

![image-20231102155723743](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102155723743.png)

ä¸Šå›¾301æŒºç¥å¥‡çš„ï¼Œå¥½åƒç›®å½•ä¸å¸¦/å°±ä¼šæŠ¥301ï¼Œ

<img src="4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102160118533.png" alt="image-20231102160118533" style="zoom:50%;" />

æ—¢ç„¶æ˜¯301é‚£ä¹ˆåŠ ä¸Š-Lå°±è¡Œäº†

![image-20231102181635787](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102181635787.png)

ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œå®˜æ–¹ä¹Ÿç»™å‡ºäº†è§£é‡Š

![image-20231102181655844](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102181655844.png)





locationçš„è·¯å¾„æ‹¼æ¥ğŸ‘‡

![image-20231102163536532](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102163536532.png)

![image-20231102183316842](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231102183316842.png)

è¿™ä¸ªç­‰äºï¼Œå…¶å®å°±æ˜¯é™¤å»fqdnå¯¹åº”çš„rootï¼Œwww.site1.comå»æ‰å°±è¡Œäº†ï¼Œå¦‚æœç­‰äºlocationé‡Œçš„pathï¼Œé‚£ä¹ˆwww.site1.comå°±å¯¹åº”åˆ°/opt/testdir/ è¿™ä¸ªlocationé‡Œå®šä¹‰çš„rootæ ¹äº†ã€‚



![image-20231103092116834](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231103092116834.png)

å°±æ˜¯nginxä½œä¸ºåº”ç”¨ç¨‹åºå¤„ç†è¯·æ±‚URLçš„æ—¶å€™ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†æ˜¯å¦‚æœnginxè·‘åœ¨windowsä¸Šå°±çœŸçš„æ˜¯ä¸åŒºåˆ†å¤§å°å†™äº†ï¼Œä½†æ˜¯å¦‚æœè·‘åœ¨nginxä¸Šç”±äºnginxçš„æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶åæ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¼šåŒºåˆ†çš„æœ€ç»ˆã€‚



### locationç”¨çš„éå¸¸å¤šï¼Œæ¯”å¦‚ç°åœ¨åšä¸€ä¸ªåŠ¨é™åˆ†ç¦»

æ¯”å¦‚å„ç§å›¾ç‰‡å°±å±äºé™æ€èµ„æº

![image-20231103094737724](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231103094737724.png)

![image-20231103094809930](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231103094809930.png)

![image-20231103095407350](4-nginxå®ç°webæœåŠ¡å™¨01.assets/image-20231103095407350.png)

ä¸Šå›¾å°±æ˜¯æ„æ€ä¸€ä¸‹ï¼Œå®é™…åŠ¨æ€æ–‡ä»¶php|jsp|aspä¸æ˜¯ç®€å•çš„æ”¾åœ¨è¿™é‡Œçš„ï¼Œè€Œæ˜¯åç«¯çš„åå‘ä»£ç†å‘ç»™åè¾¹èƒ½å¤„ç†jspçš„æ¯”å¦‚æ˜¯PHPä¹Ÿå°±æ˜¯fastCGIçš„æœåŠ¡å™¨åœ°å€
