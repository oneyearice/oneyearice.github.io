# 3.Keepalived实现VRRP协议配置和日志及独立子配置文件.md



```bash
[root@server keepalived-2.3.2]# vim /apps/keepalived/etc/keepalived/keepalived.conf
! Configuration File for keepalived

global_defs {
   router_id 192.168.126.136
   vrrp_mcast_group 230.0.0.0
}

vrrp_instance VI_1 {
    state MASTER
    interface eth0
    virtual_router_id 51
    priority 100
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        192.168.126.100/24  # 将vip改到正确的网段里，然后不加/24默认就是/32的。
    }

    # Allow packets addressed to the VIPs above to be received
    accept
}


```

网卡一般规划是一台服务器3块网卡

![image-20241216180145623](3.Keepalived实现VRRP协议配置和日志及独立子配置文件.assets/image-20241216180145623.png)

一个对外、一个对内、一个做心跳线

VIP一般是对外作为业务承接的，不过也可以向网络里用来做内部的网关，不过在linux APP运维体系里VIP肯定是对外了，谁用linux做路由器啊，诶，等等，不好说哦，哈哈。



