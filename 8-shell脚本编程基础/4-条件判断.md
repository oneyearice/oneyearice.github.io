# ç¬¬4èŠ‚. æ¡ä»¶åˆ¤æ–­



## åˆ¤æ–­æ˜¯å¦ä¸ºç©º

![image-20220205185731408](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185731408.png)

![image-20220205185720378](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185720378.png)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image006.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image008.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image010.jpg)

![image-20220205185708177](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185708177.png)

ä¸æ˜¯[  ]ç»¼æ‹¬å·çš„å†™æ³•é‡Œé¢ç©ºæ ¼å†å¤šå°±æ˜¯ä¸ç®—çš„ã€‚ä½ å¼•å·æ¥è¡¨ç¤ºç©ºæ ¼è¯•è¯•

![image-20220205185656795](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185656795.png)

![image-20220205185644944](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185644944.png)

![image-20220205185634544](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185634544.png)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image020.jpg)

ä¸Šå›¾æ˜¯help testå‡ºæ¥çš„ï¼Œå†…éƒ¨å‘½ä»¤çš„å¸®åŠ©ç”¨æ³•help xx



æ‰€ä»¥å…³äº ç©º çš„åˆ¤æ–­ï¼Œåœ¨pythoné‡Œç©ºæ ¼æ˜¯ä¸ä¸ºç©ºçš„ï¼Œå°±æ˜¯æœ‰ä¸œè¥¿åœ¨çš„ï¼Œåœ¨linuxçš„shellé‡Œé€šå¸¸æ˜¯åˆ¤æ–­ä¸ºç©ºçš„ï¼Œæ¯”å¦‚[ -z "$?"] æ¯”å¦‚./xx.sh    <---è¿™é‡Œæœ‰å¾ˆå¤šç©ºæ ¼ï¼Œä½†æ˜¯éƒ½åˆ¤å®šä¸ºç©ºçš„ã€‚ä¸Šé¢æˆªå›¾ä¹Ÿè¯´æ˜äº†è¿™äº›ã€‚



##  æ–‡ä»¶å¤¹å­˜åœ¨å°±ä¸åˆ›å»ºçš„æ–¹æ³•

![image-20220205185558131](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185558131.png)

å­˜åœ¨å°±ä¸ä¼šåˆ›å»ºäº†ã€‚

æœ¬èº«touchå°±æ˜¯è¿™æ ·çš„æ•ˆæœäº†ï¼Œä¸è¿‡touchä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œè™½ç„¶å†…å®¹ä¸ä¼šæ¸…æ‰ï¼Œä½†æ˜¯3ä¸ªæ—¶é—´ç»Ÿç»Ÿåˆ·æ–°ã€‚å¦‚ä¸‹

```
[03:22:10 root@host1 ~]#stat f1
  File: â€˜f1â€™
  Size: 9         	Blocks: 8          IO Block: 4096   regular file
Device: fd00h/64768d	Inode: 71287069    Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Context: unconfined_u:object_r:admin_home_t:s0
Access: 2022-02-02 18:49:12.966012106 +0800
Modify: 2022-02-02 18:49:11.773012078 +0800
Change: 2022-02-02 18:49:11.777012078 +0800
 Birth: -
[03:22:14 root@host1 ~]#cat f1



dd
 

[03:22:17 root@host1 ~]#touch f1
[03:22:21 root@host1 ~]#ll f1
-rw-r--r--. 1 root root 9 Feb  6 03:22 f1
[03:22:24 root@host1 ~]#stat f1
  File: â€˜f1â€™
  Size: 9         	Blocks: 8          IO Block: 4096   regular file
Device: fd00h/64768d	Inode: 71287069    Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Context: unconfined_u:object_r:admin_home_t:s0
Access: 2022-02-06 03:22:21.871014487 +0800
Modify: 2022-02-06 03:22:21.871014487 +0800
Change: 2022-02-06 03:22:21.871014487 +0800
 Birth: -
[03:22:26 root@host1 ~]#cat f1



dd
 


```

 

 

![image-20220205185546326](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185546326.png)

![image-20220205185533329](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185533329.png)

-e -aåé¢ä¸è·Ÿæ–‡ä»¶ï¼Œå•å•ä¸€ä¸ª-eæˆ–è€…-aå°±ä¸è®¤ä¸ºæ˜¯é€‰é¡¹äº†ï¼Œè€Œæ˜¯å½“ä½œå­—ç¬¦äº†ï¼Œæœ‰å­—ç¬¦å°±æ˜¯éç©ºäº†ğŸ‘†ğŸ‘‡æ‰€ä»¥ä½¿ç”¨-eè¿™ç§ä¸€å®šè¦åé¢ç”¨åŒå¼•å·å¼•èµ·æ¥ã€‚

![image-20220205185520265](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185520265.png)

 æ‰€ä»¥åŠ ä¸Š åŒå¼•å· å¯ä»¥é¿å…ä¸¥é‡é€»è¾‘é”™è¯¯ï¼Œ

åˆ¤æ–­æ˜¯å¦ä½æ•°å­—ï¼Œå¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼ğŸ‘‡

![image-20220205185511308](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185511308.png)

```
[03:41:04 root@host1 ~]#[ "11" -gt 10 ] && echo true
true
[03:41:09 root@host1 ~]#[ '11' -gt 10 ] && echo true
true
[03:41:16 root@host1 ~]#[ 'xx' -gt 10 ] && echo true
-bash: [: xx: integer expression expected
[03:41:22 root@host1 ~]#
è¯´æ˜linuxé‡Œçš„å¼•å·ï¼Œå¹¶ä¸ä¼šæ”¹å˜é‡Œé¢å€¼çš„ç±»å‹ï¼Œè¿™é‡Œ11å¼•èµ·æ¥è¿˜æ˜¯æ•°å­—ï¼Œä¸ä¼šå˜æˆå­—ç¬¦ä¸²ã€‚
```

![image-20220205185500856](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185500856.png)

## åŒç»¼æ‹¬å·é‡Œé¢æ”¯æŒæ­£åˆ™ï¼Œéœ€è¦è¿™ä¹ˆå†™ï¼š

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image034.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image036.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image038.jpg)

 

![image-20220205185439884](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185439884.png)

### çº¯æ•°å­—çš„åˆ¤æ–­ğŸ‘†

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image042.jpg)

![image-20220205185427981](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185427981.png)

###  è¿˜æ˜¯éœ€è¦è¡¥ä¸ŠåŒå¼•å·ğŸ‘†ï¼Œè™½ç„¶ä¸å½±å“ç»“æœï¼Œä¸€èˆ¬åœ¨[]é‡Œå˜é‡éƒ½æ˜¯æ¨èåŠ ä¸ŠåŒå¼•å·ã€‚

###  åˆ¤æ–­æ˜¯å¦ä½.shåç¼€

![image-20220205185419371](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185419371.png)

### åˆ¤æ–­åˆæ³•IP

![image-20220205185403986](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185403986.png)

![image-20220205185353110](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185353110.png)

åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªåˆæ³•IPçš„åŠæ³•ï¼šå…¶å®è¿˜å¯ä»¥è¿›ä¸€æ­¥åˆ°A B C ç±»åœ°å€ä»¥åŠç§ç½‘åœ°å€ã€‚

ä¸‹å›¾ç¬¬ä¸‰è¡Œæ‰æ˜¯æ­£è§£ï¼Œæ²¡æœ‰^å’Œ$å°±æ˜¯åŒ…å«äº†ã€‚

![image-20220205185341001](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185341001.png)

æ³¨æ„ä¸Šå›¾å‘½ä»¤æ˜¯è½¬è¡Œäº†

regåµŒå…¥åˆ°å­—ç¬¦ä¸²è¡¨è¾¾å¼é‡Œshellçš„å†™æ³•ã€‚

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image054.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image056.jpg)

![image-20220205200652459](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205200652459.png)

## å¹¶ä¸”çš„å…³ç³»-æ–¹æ³•1

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image060.jpg)

[ xxx -a yyy] å¹¶ä¸”çš„å†™æ³•ï¼Œä¸è¿‡å®ƒè¿™é‡Œä¸æ”¯æŒæ­£åˆ™äº†ï¼Œæ­£åˆ™å¾—ç”¨çŸ­è·¯ä¸ï¼Œä¸è¿‡ä¸æ˜¯æ™®éé€‚ç”¨çš„ï¼Œå¯èƒ½è¿˜éœ€è¦ç¬¬äºŒç§æ–¹å¼ï¼š

## å¹¶ä¸”çš„å…³ç³»-æ–¹æ³•2

![image-20220205185305461](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185305461.png)

![image-20220205185259940](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185259940.png)

### åˆ¤æ–­çš„æ˜¯å®é™…ä¸Šçš„æƒé™ï¼Œä¸æ˜¯è¡¨é¢ä¸Šçš„æ–‡ä»¶æƒé™ã€‚ä¸Šå›¾æ˜¯rootæ‰§è¡Œçš„å‘½ä»¤ï¼Œæ‰€ä»¥å°±æ˜¯å¯è¯»å¯å†™çš„ã€‚

ä½†æ˜¯æ‰§è¡Œæƒé™ä¸åŒï¼Œrootä¹Ÿæ˜¯éœ€è¦æ–‡ä»¶çš„æ‰§è¡Œæƒé™çš„ã€‚

![image-20220205185243235](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185243235.png)

![image-20220205185233298](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185233298.png)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image070.jpg)

 è¡¥å……ä¸ªç‚¹ï¼Œf1.shè¦æ‰§è¡Œï¼Œç”¨æˆ·è¦æœ‰f1.shçš„rè¯»æƒé™ï¼Œç„¶åå†/bin/bash f1.shå°±èƒ½æ‰§è¡Œäº†ï¼Œå¦‚æœè¿f1.shçš„è¯»æƒé™éƒ½æ²¡æœ‰ï¼Œå¿…ç„¶æ— æ³•æ‰§è¡Œçš„ã€‚

```
[04:52:19 root@host1 ~]#su user1
[04:52:23 user1@host1 root]$bash /data/f1
bash: /data/f1: Permission denied
[04:52:27 user1@host1 root]$ll /data/f1
----------. 1 root root 23 Feb  6 04:49 /data/f1
[04:52:30 user1@host1 root]$exit
exit
[04:52:58 root@host1 ~]#chmod 444 /data/f1
[04:53:09 root@host1 ~]#ll /data/f1
-r--r--r--. 1 root root 23 Feb  6 04:49 /data/f1
[04:53:11 root@host1 ~]#su user1
[04:53:15 user1@host1 root]$bash /data/f1
xxx

```

éœ€æ±‚ï¼š

å†™ä¸ªè„šæœ¬user10.shåˆ›å»ºç”¨æˆ·ï¼Œè€ƒè™‘ç”¨æˆ·å­˜åœ¨ä»¥åŠuser10.shåæ²¡æœ‰è·Ÿå‚æ•°çš„é—®é¢˜ã€‚

![image-20220205185211779](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185211779.png)

ä¸Šå›¾æ˜¯ç¬¬ä¸€ç‰ˆæœ‰é—®é¢˜å•Šä¸å°‘

![image-20220205185155186](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185155186.png)

è¿™ç‰ˆæ˜¯OKäº†

è¿™æ˜¯å¯¹åº”çš„ç»“æœ

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image076.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image078.jpg)

å¯èƒ½$1ä¸ºç©ºè¦æ”¹ä¸€ä¸‹ï¼Œæ”¹æˆS# å¥½ç†è§£ä¸€ä¸‹ï¼Œä¸€ä¸ªå‚æ•°éƒ½æ²¡æœ‰ä¸å°±æ˜¯$1ä¸ºç©ºå˜›ã€‚å¯¹ä¸å¯¹ï¼Œæ‰€ä»¥ä¸Šé¢æ— éœ€ä¿®æ”¹ã€‚

ä½†æ˜¯è¿˜æ˜¯æœ‰é—®é¢˜![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image080.jpg)

æ·»åŠ èŠ±æ‹¬å·ï¼š

![image-20220205185130338](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185130338.png)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image084.jpg)

ç°åœ¨åº”è¯¥OKäº†

 

![image-20220205185114728](4-æ¡ä»¶åˆ¤æ–­.assets/image-20220205185114728.png)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image088.jpg)

å¯ä»¥ä¸ªå±ï¼Œï¼ˆ ï¼‰å°æ‹¬å·æ˜¯å­shellï¼Œexit10æ˜¯é€€å‡ºçš„å­shellã€‚

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image090.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image092.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image094.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image096.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image098.jpg)

ä¼˜åŒ–ä¸€ä¸‹å°†Changing passowd for user tomå’Œpasswdï¼šxxxéšè—ã€‚

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image100.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image102.jpg)

 

## å¦‚æœä½ å¹²äº†è¿™äº‹ï¼šå°†chmodçš„æ‰§è¡Œæƒé™å¼„æ²¡äº†

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image104.jpg)

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image106.jpg)

### åˆ©ç”¨faclä¿®å¤æƒé™

![img](4-æ¡ä»¶åˆ¤æ–­.assets/clip_image108.jpg)

 
