# ç¬¬åä¸‰ç«  ç½‘ç»œåè®®å’Œç®¡ç†



# æŠ“appè®¿é—®çš„åŸŸåå’Œip



## 1ã€ç¯å¢ƒå‡†å¤‡

å·¥å…·:

https://github.com/H4NM/WhoYouCalling?tab=readme-ov-file

æ“ä½œ

1ã€CallMapperä¸‹è½½https://github.com/H4NM/WhoYouCalling/releases/download/v1.5/CallMapper-1.5.zip

2ã€WhoYouCallingä¸‹è½½https://github.com/H4NM/WhoYouCalling/releases/download/v1.5/CallMapper-1.5.zip



<img src="13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114164201973.png" alt="image-20260114164201973" style="zoom:50%;" />

æŠŠWhoYouCallingçš„å¯åŠ¨exeåŠ å…¥pathå˜é‡

<img src="13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114164037004.png" alt="image-20260114164037004" style="zoom:50%;" />





## 2ã€å®ŒæˆæŠ“åŒ…



ç®¡ç†å‘˜è¿è¡Œcmd



![image-20260114164301510](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114164301510.png)



è·å–æµé‡æ¥å£

![image-20260114164352271](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114164352271.png)



å¼€å§‹æŠ“åŒ…

```cmd
ipconfig /flushdns  # è¿™ä¸ªå¾ˆå…³é”®ï¼Œå¯ä»¥è®©ä½ çš„dnsè¯·æ±‚æŠ“çš„å…¨ä¸€ç‚¹

# æŠ“ç‰¹å®šçš„app
wyc -e "E:\Trae CN\Trae CN.exe" -i 4 -o "C:\Users\oneye\Desktop\cap001"  --name "Trae"

# æŠ“æ‰€æœ‰çš„
wyc --illuminate -i 4 -o "C:\Users\oneye\Desktop\cap001"

```



![image-20260114170922004](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114170922004.png)



wycç›´æ¥æ‰“å¼€è¿™ä¸ªç¨‹åºï¼Œå¯åŠ¨åç›´æ¥ä½¿ç”¨å¯¹è¯ç¼–ç¨‹ä¸€æ®µæ—¶é—´ï¼Œè¿™æ ·å¯ä»¥æŠ“å…¨ï¼šå¯åŠ¨ã€ç™»å½•ã€äº¤äº’çš„å…¨éƒ¨æµé‡å°±æœ‰äº†

å¯¹è¯

![image-20260114171000081](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171000081.png)

é€€å‡º-ç™»å½•éƒ½æ“ä½œä¸€é

<img src="13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171042232.png" alt="image-20260114171042232" style="zoom: 33%;" /> <img src="13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171103692.png" alt="image-20260114171103692" style="zoom:33%;" />



åŒæ—¶å¯ä»¥æŠ“ä¸€éƒ¨åˆ†æµè§ˆæ“ä½œé˜¶æ®µçš„åŸŸåçš„ï¼Œå½“ç„¶è¿™éƒ¨åˆ†æ“ä½œä¹Ÿåº”è¯¥è¢«åŒ…å«åœ¨wcyæŠ“åŒ…è½¯ä»¶ä¸­äº†

![image-20260114171214468](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171214468.png)



å†èŠè®°å½•

![image-20260114171720894](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171720894.png)



å…³é—­wycæŠ“åŒ…ï¼Œctrl cå°±å¯ä»¥

![image-20260114171817731](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171817731.png)



è¿›å…¥åˆ°ä¸Šå›¾æ‰€ç¤ºè¾“å‡ºæ–‡ä»¶

<img src="13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171840416.png" alt="image-20260114171840416" style="zoom:43%;" />



ç›´å¥”ä¸»ä½“ï¼Œsummary.txtå°±æ˜¯æˆ‘ä»¬è¦çš„åŸŸåå’Œipæ¸…å•ï¼Œ

<img src="13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114171930842.png" alt="image-20260114171930842" style="zoom:50%;" />

ä¸Šå›¾ï¼Œsummary.txté‡Œæœ‰åŸŸåå’Œipäº†ï¼Œå…¶ä»–

![image-20260114172302177](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114172302177.png)

å°±æ˜¯å„ä¸ªtraeå­è¿›ç¨‹ä¸‹çš„ç»Ÿè®¡(æ¯ä¸ªè¿›ç¨‹ä¸‹åˆ†åˆ«æœ‰dnsã€tcpè®°å½•çš„)ï¼ŒResult.jsonå’Œsummary.txtéƒ½æ˜¯æ±‡æ€»çš„ï¼Œsummaryç»™äººçœ‹çš„ã€‚



## 3ã€å¤„ç†æ–‡æœ¬

ç„¶åæŠŠsummary.txtä¼ åˆ°linuxé‡Œå¤„ç†ä¸‹

![image-20260114172540862](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114172540862.png)

![image-20260114172552456](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114172552456.png)

ç»“æ„åŒ–çš„æ•°æ®ï¼Œè¿‡æ»¤å‡ºDomainså±‚çº§å°±è¡Œäº†

![image-20260114174737322](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114174737322.png)

```bash
sed -rn '/Domains:/,/Record/p' Summary.txt |grep '-' |awk '{print $2}' |sort |uniq |grep -Evi undefined
```

![image-20260114174939642](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114174939642.png)



å†ç¡®è®¤ä¸‹summary.txtå…¨ä¸å…¨ï¼Œçœ‹çœ‹Result.jsoné‡Œä¹Ÿæ˜¯ä¸€æ ·15ä¸ªåŸŸåï¼ŒåŸºæœ¬åˆ¤æ–­åªçœ‹summaryå°±æ˜¯å¯ä»¥äº†ã€‚

![image-20260114175328443](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114175328443.png)





å†™å…¥dnså‰çš„æ ¼å¼åŒ–

```bash
cat 10.2.needadd | xargs -I {} bash -c 'ip=$(dig +short @223.5.5.5 {} | grep -E "([0-9]+\.){3}[0-9]+" | head -1); echo "$ip  {}"' |grep -Ev '^ +'
```



![image-20260114181944912](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114181944912.png)



å†™å…¥dns serverçš„/etc/hostsç»™dnsmasqç”¨å³å¯ã€‚





## 4ã€æŠ¥é”™å¤„ç†

å¦‚æœé‡åˆ°æŠ¥é”™çš„ï¼Œå¤„ç†å°±æ˜¯git cloneä¸‹è½½æºç ï¼Œç„¶åæ‰“å¼€traeè¿›å…¥è¯¥ç›®å½•ï¼ŒæŠŠæŠ¥é”™å‘ç»™traeï¼Œè®©ä»–ç›´æ¥ä¿®æ”¹åå†ç»™ä½ ç¼–è¯‘ï¼Œä½ å°±åäº«å…¶æˆå§ã€‚---å·²è·‘é€šï¼Œå…·ä½“å¦‚ä¸‹

1ã€ä¸‹è½½ç¼–è¯‘å¥½çš„æŠ¥é”™ğŸ‘‡

![image-20260116160759795](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260116160759795.png)

2ã€ç›´æ¥è®©traeå¤„ç†ï¼Œå‘ç°æ˜¯ç¼–è¯‘åçš„ï¼Œæ²¡æœ‰æºæ–‡ä»¶æ— æ³•å¤„ç†ï¼Œå°±ä¸‹è½½äº†æºç ï¼Œé‡æ–°è®©traeè¿›å»æ–°çš„å·¥ä½œç›®å½•è¿›è¡Œæ²Ÿé€šï¼ŒåŒæ—¶ä¹Ÿé˜…è¯»githubä¸Šçš„è¯´æ˜å®‰è£…äº†pncapå’Œnet8ã€‚

![image-20260116160416530](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260116160416530.png)

æœ€åå°±OKäº†

![image-20260116161312732](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260116161312732.png)





ä»¥ä¸Šå°±æ˜¯æŠ“windowsæŸä¸ªè½¯ä»¶çš„ è®¿é—®å“ªäº›åŸŸåå’Œipçš„æœ€ä½³å®è·µã€‚









# wycçš„guiçš„debug



## ä½¿ç”¨æ–¹æ³•

æŠŠ CallMapperçš„å†…å®¹å¤åˆ¶åˆ°æŠ“åŒ…æ–‡ä»¶é‡Œå»ï¼Œäººå®¶githubä¸Šè¯´äº†è¦åŒç›®å½•

![image-20260114185906155](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114185906155.png)



ä½†æ˜¯æœ‰é”™è¯¯ï¼Œæ‰€ä»¥è¦å…ˆä¿®å¤ä¸€ä¸‹ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ç”¨traeç›´æ¥å¤„ç†çš„ï¼Œæ±‡æ€»å¦‚ä¸‹ï¼š

åœ¨CallMapper\lib\ä¸‹æ‰¾åˆ°functions.pyæ–‡ä»¶

========================================

é”™è¯¯å‘ç”Ÿåœ¨ lib/functions.py:95 çš„ convert_to_datetime_object å‡½æ•°ä¸­ã€‚é—®é¢˜æ˜¯ï¼š

- Result.json ä¸­çš„æ—¶é—´å­—ç¬¦ä¸²æ ¼å¼ä¸ºï¼š 2026-01-14T15:12:36.06432+08:00
- å¾®ç§’éƒ¨åˆ†åªæœ‰ 5 ä½ï¼ˆ 06432 ï¼‰ï¼Œä½† Python çš„ datetime.fromisoformat() è¦æ±‚å¾®ç§’å¿…é¡»æ˜¯ 6 ä½
## ä¿®å¤æ–¹æ¡ˆ

![image-20260114185728869](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114185728869.png)



åœ¨ lib/functions.py:91,93 ä¸­ï¼Œå°†ï¼š

```
fraction = fraction[:6]
```
ä¿®æ”¹ä¸ºï¼š

```
fraction = fraction[:6].ljust(6, 
'0')
```
è¿™æ ·ä¼šå°†å¾®ç§’éƒ¨åˆ†è¡¥é½åˆ° 6 ä½ï¼ˆä¾‹å¦‚ 06432 â†’ 064320 ï¼‰ï¼Œä½¿å…¶ç¬¦åˆ ISO 8601 æ ‡å‡†æ ¼å¼ã€‚



## æ‰“å¼€GUI

![image-20260114190132330](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114190132330.png)



![image-20260114190219237](13-ç½‘ç»œåè®®å’Œç®¡ç†.assets/image-20260114190219237.png)



