# ç¬¬9èŠ‚. httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·



# HTTPåè®®







# HTTPè¯·æ±‚æŠ¥æ–‡

![image-20231016180158278](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231016180158278.png)



"å®ä½“ä¸»ä½“"ï¼Œæ¯”å¦‚POSTä¸Šä¼ çš„æ•°æ®å†…å®¹ï¼Œæ¯”å¦‚ä¸Šä¼ æ–‡ç« ã€‚æ­£å¥½æˆ‘ç”¨confluenceçš„apiä¸Šä¼ æ–‡ç« çœ‹çœ‹



![image-20231016183610323](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231016183610323.png)

éš¾é“æ‰€è°“çš„"å®ä½“ä¸»ä½“"å°±æ˜¯ä¸Šå›¾çš„JavaScript Object Notationï¼Œä¸è¿‡è¿™éƒ¨åˆ†å†…å®¹ç¡®å®æ˜¯æˆ‘ä¸Šä¼ confçš„æ–‡ç« ã€‚



![image-20231017091826023](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017091826023.png)

ä¸Šå›¾æ—¢æœ‰è¯·æ±‚æŠ¥æ–‡ï¼Œä¹Ÿæœ‰å“åº”æŠ¥æ–‡ï¼Œ>å°±æ˜¯è¯·æ±‚ï¼Œ<å°±æ˜¯å“åº”



# HTTPå“åº”æŠ¥æ–‡

![image-20231017091927895](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017091927895.png)





![image-20231017093428124](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017093428124.png)

![image-20231017094621672](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017094621672.png)





# HTTPæŠ¥æ–‡è¯­æ³•

![image-20231017094733680](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017094733680.png)



GET POSTç”¨çš„è¾ƒå¤šï¼ŒHEADå°±æ˜¯åªçœ‹å¤´çš„è¯·æ±‚ï¼Œé€šè¿‡curl -Ivå¯è§ğŸ‘‡

![image-20231017094842086](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017094842086.png)



![image-20231017095026921](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017095026921.png)



å…³äºHTTPçš„å“åº”ç çš„è¯´æ˜æŸ¥çœ‹æ–¹æ³•

![image-20231017095349621](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017095349621.png)

![image-20231017095407632](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017095407632.png)

https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/200?utm_source=mozilla&utm_medium=devtools-netmonitor&utm_campaign=default



![image-20231017101241025](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017101241025.png)

![image-20231017101301910](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231017101301910.png)



**304ç¼“å­˜ï¼ŒF12é‡Œæœ‰Disable cacheå¼€å…³ã€‚**æˆ‘ä¸€èˆ¬éƒ½æ˜¯å‹¾é€‰çš„ï¼Œé˜²æ­¢ç¼“å­˜å¸¦æ¥çš„è¯¯åˆ¤ã€‚

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018110453851.png" alt="image-20231018110453851" style="zoom:33%;" />

![image-20231018104141247](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018104141247.png)

![image-20231018104200326](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018104200326.png)







æœ‰äººç¼“å­˜å°±æ¸…2ä¸ªç¤¼æ‹œçš„ï¼Œä½†å®é™…ç¼“å­˜å¯ä»¥å­˜åœ¨é•¿è¾¾1å¹´ä¹‹ä¹…ğŸ‘‡

![image-20231018113348407](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018113348407.png)







![image-20231018114701118](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018114701118.png)

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018110453851.png" alt="image-20231018110453851" style="zoom:33%;" />

![image-20231018114812190](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018114812190.png)



# Cookie

![image-20231018115724422](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018115724422.png)

cookieæ˜¯é”®å€¼å¯¹ï¼Œé‡Œé¢å­˜æ”¾äº†ç”¨æˆ·ä¿¡æ¯

![image-20231018133653900](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018133653900.png)

â‘ ç”¨æˆ·è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç”Ÿæˆcookieå€¼ï¼Œæ˜¯key,valueé”®å€¼å¯¹ï¼Œæ¯”å¦‚user=bob,goods=tesla

â‘¡serveré€šè¿‡set-cookieè¿™ä¸ªé¦–éƒ¨å­—æ®µä¿¡æ¯ï¼Œå‘ç»™ç”¨æˆ·

â‘¢ç”¨æˆ·çš„æµè§ˆå™¨å°±æ”¶åˆ°äº†ï¼Œ ç„¶åå­˜ç€ï¼Œä¸‹æ¬¡è®¿é—®å°±ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­æºå¸¦cookie,user=bob,goods=tesla

â‘£ç½‘ç«™æœåŠ¡å™¨ä¸€çœ‹ï¼Œè¿™ä¸ªäººåˆæ¥äº†ï¼Œè¿™å°±å®ç°äº†HTTPæ— çŠ¶æ€çš„ç”¨æˆ·ä¿¡æ¯è¿è´¯æ€§ã€‚



**èƒ–cookie**ï¼šæ—©æœŸä»€ä¹ˆä¿¡æ¯éƒ½ç½‘cookieé‡Œæ”¾ï¼Œé€ æˆcookieä¸œè¥¿å¤ªå¤šï¼Œå¸¦å®½å ç”¨å¤§ã€‚

cookieçš„æœ‰æ•ˆæœŸï¼šåº”è¯¥ä¹Ÿæ˜¯set-cookieæœåŠ¡è®©ç”¨æˆ·æµè§ˆå™¨ç¼“å­˜çš„æ—¶é—´ã€‚

ä¼šè¯çº§çš„cookieï¼šå°±æ˜¯ç±»ä¼¼mysqlçš„ä¼šè¯çº§çš„å˜é‡ä¸€æ ·ï¼Œåªé’ˆå¯¹å½“å‰ä¼šè¯ç”Ÿæ•ˆï¼›è¿™é‡Œçš„ä¼šè¯çº§çš„cookieå°±æ˜¯æµè§ˆå™¨ä¸€å…³ï¼Œcookieå°±æ²¡äº†ã€‚ å¥½åƒæœ‰çš„ç™»å…¥IDå°±æ˜¯ç”¨çš„sessionçº§åˆ«çš„cookieã€‚

![image-20231018134033676](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018134033676.png)

é€šè¿‡useridæ¥ç®€åŒ–cookieæºå¸¦çš„å†…å®¹ï¼Œidå¯¹åº”çš„å†…å®¹æ”¾åˆ°serverç«¯çš„DBé‡Œï¼Œè¿™æ ·ä¿¡æ¯åœ¨ç½‘ç»œä¸­çš„ä¼ é€’å°±å°‘äº†å¾ˆå¤šã€‚

è¯´åˆ°ä¿¡æ¯çš„ä¼ é€’å’ŒéªŒè¯ï¼Œè¿™å—ç©çš„èŠ±çš„ç©çš„6çš„æˆ‘æ¥è§¦åˆ°çš„è¿˜æ˜¯ciscoçš„ASAè¯¾ç¨‹é‡Œå…¶å®ä¸ä»…ä»…æ˜¯ASAå°±æ˜¯securityæ–¹å‘é‡Œç”¨çš„æ¯”è¾ƒå¤šï¼Œå°è±¡ä¸­æœ‰ä¸€ä¸ªISNã€è¿˜æœ‰DOSé˜²æŠ¤çš„ä¸€äº›æŠ€å·§ï¼Œå½“ç„¶æŠ—Dè‚¯å®šä¸æ˜¯è¿™ä¹ˆç©å’¯ã€‚



å†ä¸€ä¸ªsession idï¼Œè¿™ä¸ªæ¯”å¦‚jdéƒ½æ²¡æœ‰ç™»å…¥ï¼Œä½†æ˜¯ä¸¤æ¬¡é¡µé¢åˆ·æ–°ï¼Œè´­ç‰©è½¦é‡Œçš„ä¸œè¥¿è¿˜åœ¨ï¼Œè¯´æ˜ä¸æ˜¯åŸºäºç”¨æˆ·IDæ¥ä¿æŒè´­ç‰©è½¦é‡Œçš„ä¿¡æ¯çš„ï¼Œè¿™é‡Œåº”è¯¥å°±æ˜¯åŸºäºsessionIDæ¥çš„ã€‚

![image-20231018145624784](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018145624784.png)

session ID 10000åœ¨DBé‡Œå­˜åœ¨è´­ç‰©è½¦é‡Œçš„å•†å“ä¿¡æ¯ã€‚

![image-20231018135322724](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018135322724.png)

sessionIDä¹Ÿæ˜¯æ”¾åˆ°set-cookieå‘ç»™ç”¨æˆ·æµè§ˆå™¨çš„ï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯å› ä¸ºhttpé•¿è¿æ¥ä¹Ÿé•¿ä¸äº†å¤šä¹…ï¼Œhttpä¼šè¯ä¸ä¼šä¿æŒï¼Œhttpæœ¬èº«è®¾è®¡å°±æ˜¯çŸ­é“¾æ¥ï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸€ä¸ªä¸œè¥¿æ¥åšå¤šä¸ªtcpè¿æ¥çš„æ‰¿ä¸Šå¯ä¸‹contextçš„ä½œç”¨ã€‚ä¸ç®¡session IDä¹Ÿå¥½ï¼Œuseridä¹Ÿç½¢ï¼Œéƒ½æ˜¯æ‰“æ ‡ ç”¨æ ‡ï¼Œç„¶åæ ‡çš„ä¿¡æ¯å®Œæ•´ä¿¡æ¯æ”¾åˆ°serverçš„DBé‡Œä½œä¸ºèŠ‚çœå¸¦å®½çš„ç©æ³•ã€‚





![image-20231018150506304](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018150506304.png)



cookieä¹Ÿä¸ä¼šéšæµè§ˆå™¨å…³é—­è€Œå…³é—­

![image-20231018152252212](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018152252212.png)

cookieä¹Ÿå¯ä»¥è¿›ä¸€æ­¥æŸ¥çœ‹çš„

![image-20231018152421090](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018152421090.png)

![image-20231018152518908](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018152518908.png)

ä¸è¿‡å†è¯¦ç»†å¥½åƒç°åœ¨ç‰ˆæœ¬ç›´æ¥çœ‹ä¸åˆ°äº†ï¼Œä¹‹å‰ç‚¹è¿›å»å¯ä»¥çœ‹åˆ°ç±»ä¼¼æµè§ˆå™¨F12é‡Œçš„cookieå€¼å¾—ã€‚

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018153600418.png" alt="image-20231018153600418" style="zoom:50%;" />



https://blog.csdn.net/u011781521/article/details/87791125



æ‰¾åˆ°ä¸€ä¸ªchromeæµè§ˆå™¨å¾—ç¼“å­˜

![image-20231018154613453](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018154613453.png)





cookieæ‰¾åˆ°äº†ï¼Œè¿™æ˜¯chromeæµè§ˆå™¨cookieçš„å­˜æ”¾è·¯å¾„

![image-20231018154901007](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018154901007.png)



å‘ç°æ˜¯SQLiteæ ¼å¼

![image-20231018155201203](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018155201203.png)

ä¼ åˆ°linuxé‡Œçœ‹ç®—äº†ï¼Œwindows å’Œlinux ä¸€æ ·è¦å®‰è£…sqlite  https://zhuanlan.zhihu.com/p/99643229

https://juejin.cn/post/7111861277751771173

![image-20231018155257715](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018155257715.png)



```
yum -y install sqlite

```

![image-20231018163830535](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018163830535.png)

![image-20231018164009045](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018164009045.png)

select * from cookies;ç»“æœä¸€å †ä¹±ç ï¼Œæ“



![image-20231018164335853](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018164335853.png)

![image-20231018164605408](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018164605408.png)

ä¸€å †ä¹±ç ï¼Œå”‰

![image-20231018165028957](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018165028957.png)

ç®—äº†ï¼Œä¸çœ‹äº†ï¼Œå¯èƒ½æ˜¯å­—ç¬¦é›†è¦ä¿®æ”¹ä¸€ä¸‹ğŸ‘†



<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018165406632.png" alt="image-20231018165406632" style="zoom:50%;" />



![image-20231018171926959](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018171926959.png)

1ã€2ã€3ã€4å°±æ˜¯ä¸€ä¸ªsession1å­˜å…¥åˆ°æµè§ˆå™¨ä¸Šäº†ï¼Œè¿™é‡Œè®¾è®¡è´Ÿè½½å‡è¡¡å’Œèº«åçš„æœåŠ¡å™¨nodesã€‚session1æ˜¯å¯¹åº”åœ¨ç‰¹å®šçš„nodeèŠ‚ç‚¹çš„ã€‚

å¦‚æœ5è¯·æ±‚è¿‡æ¥ï¼Œå‡è®¾è´Ÿè½½å‡è¡¡æ²¡æœ‰åšsessionä¿æŒï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½å°†è¯·æ±‚è·¯ç”±åˆ°å…¶ä»–çš„nodeï¼Œè€Œæ–°çš„nodeä¸Šæ²¡æœ‰ä¹‹å‰çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç™»å…¥ä¿¡æ¯ï¼Œè´­ç‰©è½¦é‡Œçš„å•†å“ï¼Œè¿™æ ·åŸæ¥çš„é¡µé¢å°±æ²¡äº†ã€‚



**è§£å†³è¯¯åŒº-ä¸åšä¼šè¯ä¿æŒ**ï¼Œä¸ºäº†ä¿æŒä¼šè¯ï¼ŒåŸºäºæŸä¸ªæºIP-1å°±è·¯ç”±åˆ°ç‰¹å®šnodeä¸Šï¼Œç†è®ºä¸ŠOKçš„ï¼Œå› ä¸ºè¯¥æºIPéƒ½æ˜¯å’Œä¸€ä¸ªç‰¹å®šnodeè¿›è¡Œé€šä¿¡çš„ï¼Œæ‰€ä»¥ä¼šè¯ä¸€è‡´éƒ½åœ¨--å°±æ˜¯ç”¨cookiesé‡Œå­˜æ”¾session IDæ ‡è®°å°±è¡Œäº†ï¼›ä½†æ˜¯å¦‚æœIPæ˜¯PATèº«åä¸€å †PCå‘¢ã€‚è¿™æ ·é’ˆå¯¹è¿™ä¸€å †IPå°±å…¨éƒ¨è´Ÿè½½åˆ†æ‹…åˆ°æŸä¸€å°nodeäº†å§ï¼Œå¯èƒ½é€ æˆä¸€å°nodeè´Ÿæ‹…é‡ã€‚



**è§£å†³æ–¹æ³•-åŸºäºsessionID**,nodes1é€šè¿‡set-cookiesæ‰“ä¸Šsessionid1000ç»™Aï¼ŒAå°±å­˜å…¥ç¼“å­˜ã€‚ç„¶åè´Ÿè½½å‡è¡¡å°±åŸºäºè¯¥session1000è¿›è¡Œè½¬å‘ã€‚ è¿™ç§æ–¹å¼ä¹Ÿå­˜åœ¨æŸä¸€ä¸ªnodeæ‰¿æ‹…å¤ªå¤šçš„æƒ…å†µï¼Œä¹Ÿä¸èƒ½å®ç°å‡è¡¡ã€‚

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018173218453.png" alt="image-20231018173218453" style="zoom:33%;" />



**è§£å†³æ–¹æ³•-sessionå¤åˆ¶**,éšä¾¿è°ƒåº¦åˆ°å“ªä¸ªnodeéƒ½æœ‰ä¼šè¯åŒæ­¥ï¼Œæ¶ˆè€—å†…å­˜å¤§-å› ä¸ºæ•´ä½“ä¸Šæ¥çœ‹ï¼Œsessionæ˜¯æ¯å°æœºå™¨éƒ½è¦ä¿æŒã€‚

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018173646795.png" alt="image-20231018173646795" style="zoom:33%;" />



**æœ€ä½³æ–¹æ¡ˆ-sessionæœåŠ¡å™¨**ï¼Œä¸»æµè½¯ä»¶redisã€‚ç”¨æˆ·è®¿é—®ç½‘ç«™äº†äº§ç”Ÿsessionäº†ï¼Œsessionä¿¡æ¯ä¸æ”¾åœ¨webæœåŠ¡å™¨ä¸Šï¼Œç»Ÿä¸€æ”¾åˆ°redisæœåŠ¡ä¸Šã€‚å› ä¸ºsessionå¤§å®¶å…±ç”¨çš„ï¼Œæ‰€ä»¥ä¹Ÿæ— éœ€ä¸Šå›¾å¤åˆ¶ã€‚

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018174228925.png" alt="image-20231018174228925" style="zoom:50%;" />



redisç‰¹å®šï¼šåŸºäºå†…å­˜çš„ï¼Œé€Ÿåº¦å¿«ï¼›ä½†æ˜¯ä¸é€‚ç”¨äºæ•°æ®æŒä¹…åŒ–ï¼Œé‡å¯å°±æ²¡äº†ï¼ŒæŒä¹…åŒ–è¿˜å¾—é æ•°æ®åº“æ¯”å¦‚mysqlã€‚

æ¯”å¦‚ç”¨æˆ·ç™»å…¥å¯†ç ï¼Œæ”¾åˆ°mysqlé‡Œã€‚

![image-20231018174829170](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018174829170.png)



cookieæ˜¯å¼€å‘ï¼Œjavaã€PHPå¼€å‘äººå‘˜å¤§æ¦‚å»å…·ä½“å®æ–½çš„ï¼ŒåŠ¨æ€é¡µé¢æ‰éœ€è¦cookieå§ï¼Œå› ä¸ºé™æ€é¡µé¢é€šå¸¸é¡µé¢æ•°æ®ä¸å¤§ï¼Œåœ¨httpçš„è¶…æ—¶æ—¶é—´å†…æ‹¿æ‰å°±è¡Œäº†ï¼Œä¸è¿‡å¤ªå¤§æœ€å¥½ä¹Ÿè¦cookieäº†å§ã€‚ åŠ¨æ€é¡µé¢éœ€è¦æ›´å¤šçš„äº¤äº’ä¹Ÿå°±æ˜¯ä¼šè¯ã€‚

![image-20231018175020679](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018175020679.png)

JAVAé‡Œçš„sessionIDï¼šJSESSIONID

PHPé‡Œçš„sessionIDï¼šPHPSESSID



æµè§ˆå™¨å¦‚æœç¦ç”¨äº†cookiesï¼Œå°±æ— æ³•è®°å½•sessionIDï¼Œå°±æ— æ³•ä¿æŒä¼šè¯äº†ï¼Œä¸€äº›åº”ç”¨å°±å¤±æ•ˆäº†ã€‚

**phpé…ç½®cookie**ğŸ‘‡

```shell
vim /var/www/html/setcookie.php
<?php
setcookie('username','ming');  # æ²¡å†™è¶…æ—¶æ—¶é—´ï¼Œå°±æ˜¯sessionä¼šè¯çº§çš„è¶…æ—¶æ—¶é—´ã€‚
setcookie('title'.'sb',time()+3600);  # time()å½“å‰æ—¶é—´+1å°æ—¶çš„æœ‰æ•ˆæ—¶é•¿,æ‰€ä»¥tilte.sbå°±æ˜¯è¶…æ—¶çš„é‚£ä¸ªæ—¶åˆ»ã€‚  # å…¶å®è¿™é‡Œæ˜¯å†™é”™äº†åº”è¯¥æ˜¯ 'tile','sb'æ˜¯é€—å·ä¸æ˜¯ç‚¹ï¼Œç„¶å3600ç§’è¶…æ—¶æ—¶é—´çš„è®¾å®šã€‚é”™è¯¯çš„å†™æ³•ä¹Ÿä¼šç”Ÿæ•ˆï¼Œå°±æ˜¯tile.sbæ˜¯ä¸€ä¸ªkeyï¼Œç„¶åå½“å‰æ—¶é—´å¯èƒ½è¢«linuxé’ˆå¯¹1970-1-1ç¿»è¯‘æˆæ•°å­—ç„¶ååŠ ä¸Š3600äº†ï¼Œå°±åªæ˜¯ä¸€ä¸ªæ•°å€¼äº†ï¼Œä¸æ˜¯keyï¼švalueçš„è¶…æ—¶æ—¶é—´äº†ã€‚ä¸å†™å°±æ˜¯sessionä¼šè¯çº§åˆ«çš„cookieï¼Œä¼šè¯æ²¡äº†cookieå°±æ²¡äº†
phpinfo();  # é¡µé¢æ˜¾ç¤ºä¸€ä¸‹phpç‰ˆæœ¬ä¿¡æ¯
?>
```

å®‰è£…php

```shell
yum -y install php
systemctl restart httpd   # å®‰è£…å®Œphpåè¦é‡å¯httpd
```

![image-20231018182913787](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018182913787.png)





![image-20231018183252011](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018183252011.png)



å·®ä¸å¤šğŸ‘†ä¸Šå›¾çš„æ—¶é—´ç¡®å®å°±æ˜¯ä»unixå…ƒå¹´1970-1-1 00:00:00å¼€å§‹çš„ï¼Œé€šè¿‡man dateå¯è§<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019101744539.png" alt="image-20231019101744539" style="zoom:45%;" />



![image-20231018183326250](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231018183326250.png)



ä¸‹å›¾æ˜¯ç¬¬äºŒå¤©ä¸Šåˆæ•²å¾—å‘½ä»¤ï¼Œ

![image-20231019101604623](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019101604623.png)

æ—¶é—´ç›¸å·®4ä¸ªå°æ—¶ï¼Œå·®ä¸å¤š

![image-20231019102132998](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019102132998.png)

åœ¨è¿™çº ç»“æ—¶é—´ä¸å¦‚æ‰¾åˆ°headå¤´é‡Œæœ‰dateå­—æ®µçš„çœ‹çœ‹ï¼ŒéªŒè¯ä¸‹å›¾

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019102528628.png" alt="image-20231019102528628" style="zoom:55%;" />

![image-20231019103237700](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019103237700.png)

è¯ºï¼ŒçœŸè¦æŒæ¡äº†so easyçš„æ—¶é—´OKçš„ã€‚







é’ˆå¯¹ä¸Šå›¾titlesbï¼Œä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶

![image-20231019092737206](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019092737206.png)

è¿™ä¸‹è¶…æ—¶æ—¶é—´1å°æ—¶å°±å¯¹äº†ğŸ‘‡

![image-20231019101059559](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019101059559.png)



æ³¨æ„ä¸Šå›¾Expires/Max-Ageï¼Œä¸€ä¸ªæ˜¯sessionä¹Ÿå°±æ˜¯ä¼šè¯çº§çš„cookieï¼Œä¸€ä¸ªæ˜¯1å°æ—¶è¶…æ—¶ã€‚

![image-20231019104245948](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019104245948.png)

ç„¶åé‡æ–°æ‰“å¼€æµè§ˆå™¨ï¼Œä½†æ˜¯ä¸è¦å†è®¿é—®è¿™ä¸ª192.168.126.130é¡µé¢

![image-20231019104414481](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019104414481.png)

å¯è§å°±ä¹Ÿç»™cookieäº†ä¸è¿‡è¿™ä¸ªcookieæ˜¯å•¥ï¼Œç°åœ¨çœ‹ä¸åˆ°äº†ï¼Œä»¥å‰æµè§ˆå™¨ç‰ˆæœ¬ç‚¹å‡»å»å°±æœ‰çš„ï¼Œä¸è¿‡å¯ä»¥æ¢æµè§ˆå™¨çœ‹ï¼Œæˆ–è€…è¿™æ ·çœ‹

![image-20231019104851230](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019104851230.png)

cookiesæ–‡ä»¶æ­£åœ¨è¢«ä½¿ç”¨ï¼ŒC:\Users\oneye\AppData\Local\Google\Chrome\User Data\Default\Network

åœ¨è¿™ä¸ªè·¯å¾„ä¸‹çš„Cookiesæ–‡ä»¶å’¯ï¼Œè¯´è¢«ä½¿ç”¨ï¼Œå…¶å®å°±æ˜¯chromeæµè§ˆåœ¨ä½¿ç”¨ä¸­ï¼Œå…³é—­æµè§ˆå™¨å°±å¥½äº†ã€‚



ç„¶åå°±çœ‹åˆ°æµè§ˆå™¨é‡Œ(ä»…æ˜¾ç¤º1ä¸ªCookie-çœ‹ä¸åˆ°å†…å®¹)é‡Œé¢çš„å†…å®¹äº†

![image-20231019105532566](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019105532566.png)

7åˆ—13342160425029725  æ˜¯expres_utcï¼Œé€šè¿‡dateå¯å¾—å‡ºï¼Œå¾—å‡ºä¸ªé¬¼å•Šï¼Œä½ ç®—ç®—å¤šå¤§ï¼Œå‘µå‘µ

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019114034318.png" alt="image-20231019114034318" style="zoom:50%;" /> 

æä¸æ‡‚ï¼Œvalue TEXTç«Ÿç„¶è¿sbå­—ç¬¦éƒ½ä¸æ˜¾ç¤ºçš„å˜›ï¼ŒåŠ ä¸Šç°åœ¨æµè§ˆå™¨è®¾ç½®é‡Œéƒ½çœ‹ä¸åˆ°cookieçš„å…·ä½“å€¼ï¼Œåªèƒ½åœ¨F12é‡Œçœ‹ï¼Œæ˜¯ä¸æ˜¯ä»å®‰å…¨å‡ºå‘åšäº†é™åˆ¶äº†ã€‚



### linkså’Œcurlç®€å•ç”¨æ³•

**æœ‰äº›ç½‘ç«™ä¸è®©çœ‹æºç ï¼Œå…¶å®ä¸‹éƒ½ä¸‹æ¥äº†æ€ä¹ˆä¼šçœ‹ä¸åˆ°å‘¢**

![image-20231019134052855](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019134052855.png)





**ç½‘ç«™çš„æ–‡ç« ä¸é”™ï¼Œä½†æ˜¯ä¸è®©ä½ å¤åˆ¶ç²˜è´´å¯ä»¥è¿™æ ·**

![image-20231019130723794](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019130723794.png)



### wgetç®€å•ä½¿ç”¨

![image-20231019132104850](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019132104850.png)

**wget æ˜¯-O å¤§çš„ï¼Œå¯ä¸å¸¦ ï¼›curl æ˜¯-o   å°çš„ä¸‹è½½å¿…å¸¦**

![image-20231019132433987](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019132433987.png)

![image-20231019132850446](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019132850446.png)



**å¦‚æœé¡µé¢æ˜¯ä¸€ä¸ªbashè„šæœ¬ï¼Œå°±å¯ä»¥è¿™æ ·å†™**

![image-20231019134303938](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019134303938.png)

ä¼˜åŒ–è¾“å‡º

![image-20231019134437129](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019134437129.png)



![image-20231019134644437](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019134644437.png)

curl -s xxx |bash   -så…¶å®ä¹Ÿæ˜¯æœ‰stdçš„ï¼Œæ‰€ä»¥å¯ä»¥|ç®¡é“ç¬¦åˆ°bash å»è¿è¡Œã€‚

è¿˜å¯ä»¥ç”¨wgetçš„stdæ‰“å°å’Œç®¡é“ç¬¦çš„ç”¨æ³•ğŸ‘‡

![image-20231019135944033](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019135944033.png)

ä¸è¿‡è¿˜éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–-qé™é»˜ä¸€ä¸‹

![image-20231019140118767](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019140118767.png)

å°±å¹²å‡€äº†ğŸ‘†ã€‚



æ‰€ä»¥ä¸Šé¢å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ï¼Œå°†è„šæœ¬shareå‡ºå»çš„æ–¹æ³•ï¼Œæ¯”å¦‚shell/pythonå°±å¯ä»¥ç”¨è¿™ç§æ–¹å¼ï¼Œä¸è¿‡å¾—æœ‰webæœåŠ¡å’¯ã€‚è¿™ç§é€‚åˆç®€å•åœºæ™¯æ— éœ€ä¼ é€’å‚æ•°çš„æƒ…å†µã€‚ å¾ˆå¤šè¿™ä¸ªå®‰è£…è„šæœ¬éƒ½æ˜¯è¿™æ ·ç©çš„ï¼Œæ¯”å¦‚ ç„å­¦ä¸Šç½‘ä¸€é”®å®‰è£…è„šæœ¬(ç§‘å­¦çš„å°½å¤´æ˜¯ç„å­¦å˜›ï¼Œä½ æ‡‚çš„)ã€‚

ä¸è¿‡æˆ‘æ›´å¤šè„šæœ¬shareå‡ºå»ä¸€èˆ¬æ¨èè¿™æ ·ï¼Œæ‰å¯ä»¥ä¼ é€’å‚æ•°ğŸ‘‡ï¼Œç„¶åä½¿ç”¨curlå»å’Œè¯¥apiäº¤äº’

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019141023194.png" alt="image-20231019141023194" style="zoom:50%;" />

```cmd
curl -X POST -H "Content-Type: application/json" -H "Data_Type:msg" -d "{\"name\": \"Alice\", \"ip\": \"130.1.1.11\"}" -s http://192.168.11.77:5000/api | python -c "import sys; print(sys.stdin.read().encode('utf-8').decode('unicode_escape'))"
```

å½“ç„¶eip_rib_addæ˜¯ä¸€ä¸ªpythonè„šæœ¬å‡½æ•°ã€‚å†ä¸€ä¸ªä¸Šå›¾è„šæœ¬åå°è¿è¡Œå°±è¡Œäº†ï¼Œnohup clixxx > /dev/null & æ•²å®Œåexité€€å‡ºä¿è¯åå°è¿è¡Œï¼Œæˆ–è€…screen -S xxxå¼€å¯åå°è¿è¡Œclixxxç„¶åç›´æ¥å…³é—­è¯¥çª—å£å°±è¡Œäº†--å…·ä½“ç”¨æ³•å‚è§æœ¬blogçš„screenç« èŠ‚ã€‚

![image-20231019141303167](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019141303167.png)



**wgetä¹Ÿæ”¯æŒé™é€Ÿ**

```
--limit-rate=


```





curlä¹Ÿæ”¯æŒå¾ˆå¤šåè®®ä¸ä»…ä»…æ˜¯HTTP

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019145713300.png" alt="image-20231019145713300" style="zoom:50%;" />

https://curl.se/docs/tutorial.html

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019145756670.png" alt="image-20231019145756670" style="zoom:50%;" />







### user-agentä¼ªè£…

ä¿®æ”¹user-agentè¿™ä¸ªç¿»è¯‘å«ç”¨æˆ·ä»£ç†ï¼Œå…¶å®å°±æ˜¯ä½¿ç”¨çš„ä»€ä¹ˆæ–¹å¼è®¿é—®serverçš„ï¼ŒåŒ…æ‹¬æµè§ˆå™¨ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸ªæ³¨é‡ŠğŸ‘‡

![image-20231019150800854](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019150800854.png)

![image-20231019150804693](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019150804693.png)





![image-20231019150942259](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019150942259.png)

![image-20231019150952091](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019150952091.png)

![image-20231019151012698](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019151012698.png)

è¿™å°±æ¯”è¾ƒå¤šäº†ğŸ‘†ï¼Œä¸€èˆ¬éƒ½æ˜¯æµè§ˆå™¨è®¿é—®ï¼Œuser-agenté‡Œæºå¸¦çš„éƒ½æ˜¯æµè§ˆå™¨çš„è¡¨ç¤ºï¼Œä¸è¿‡Mozillaéœ€è¦äº†è§£ä¸‹





![image-20231019151408502](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019151408502.png)





<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019151348317.png" alt="image-20231019151348317" style="zoom:50%;" />





ç½‘æ™¯ Netscape  å€¼å¾—äº†è§£

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019151522026.png" alt="image-20231019151522026" style="zoom:50%;" />





<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019151616173.png" alt="image-20231019151616173" style="zoom:43%;" />







### ä»å“ªä¸ªç½‘ç«™è°ƒè¿‡æ¥çš„ ä¼ªè£…

![image-20231019151912110](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019151912110.png)

![image-20231019151925152](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019151925152.png)

è¿™é‡Œå°±è®¾è®¡å­—æ®µè§£é‡Šï¼Œè¿™ä¸ªæ²¡è®°é”™å°±æ˜¯åœ¨é…ç½®æ–‡ä»¶é‡Œæœ‰

![image-20231019152022500](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019152022500.png)

ä¸Šæ–‡åˆè®²ï¼Œè¿™é‡Œç•¥

![image-20231019152131208](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019152131208.png)





ç„¶åbasicå¥½åƒåŠ ä¸åŠ ä¸€æ ·å•Šï¼Œ

![image-20231019162247414](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019162247414.png)

å¸®åŠ©ä¿¡æ¯é‡Œä¹Ÿè®²äº†this option is usually pointlessã€‚

curl --basicå…¶å®æ˜¯ä¿®æ”¹è®¤è¯æ–¹å¼çš„ğŸ‘‡

![image-20231019162503401](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019162503401.png)

![image-20231019162520969](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019162520969.png)





**é™¤äº†systemctlè¿˜æœ‰ä¸€ä¸ªå¯åŠ¨å…³é—­æœåŠ¡çš„å·¥å…·**

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019163413552.png" alt="image-20231019163413552" style="zoom:50%;" />



### httpå¯¹è®¿é—®æ—¥å¿—çš„å¤„ç†

æ—¥å¿—è¶Šæ¥è¶Šå¤§ï¼Œè¾¾åˆ°ä¸€å®šå¤§å°å°±åˆ‡åˆ†ï¼Œç„¶åæŒ‰åºå‘½åï¼Œç„¶åå†ç”Ÿæˆä¸€ä¸ªæ–°çš„access.logæ–‡ä»¶ã€‚

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019163222031.png" alt="image-20231019163222031" style="zoom:50%;" />

è€Œä¸”é»˜è®¤å°±æ˜¯æœ‰åˆ‡åˆ†çš„

![image-20231019163525631](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019163525631.png)



å…·ä½“ç”¨æ³•

https://www.apachehttpd.com/programs/rotatelogs.html   # ç ´ç½‘ç«™ï¼Œæ¢æˆä¸‹é¢çš„ğŸ‘‡

https://httpd.apache.org/docs/2.4/programs/rotatelogs.html

![image-20231019175248295](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019175248295.png)

![image-20231019164240536](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019164240536.png)

é…ç½®åˆ°è¿™é‡ŒğŸ‘‡å»ï¼š

![image-20231019164330841](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019164330841.png)

ä¿®æ”¹æŠ¥é”™è®°å½•

![image-20231019170032093](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019170032093.png)



ä¿®æ”¹ï¼Œ"|/usr/sbin/rotatelogs" æœ€å‰é¢çš„|æ˜¯å°†åŸæ¥çš„logé€šè¿‡ç®¡é“ç¬¦ä¼ é€’è¿‡æ¥ï¼Œéœ€è¦æ³¨é‡Šæ‰åŸæ¥çš„CustomLogè¡Œ

![image-20231019170556243](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019170556243.png)

è¿™é…ç½®æ˜¯okçš„å•¦ï¼Œä¸è¿‡ä½ åˆ«æƒ³çœ‹åˆ°æ•ˆæœï¼Œ

ä¸ä¿¡ä½ çœ‹ä¸‹

![image-20231019174451051](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019174451051.png)

å¦‚ä½•æ‰èƒ½çœ‹åˆ°å‘¢ï¼Œå¾€ä¸‹çœ‹å’¯ï¼Œcurlä¸€ä¸‹æœ‰æ–°çš„æ—¥å¿—ç”Ÿæˆæ‰ä¼šæœ‰è§¦å‘

![image-20231019174534865](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019174534865.png)



ç„¶åè¦æ³¨æ„httpdé‡Œçš„é»˜è®¤æ—¶é—´æ˜¯UTCçš„

![image-20231019174725750](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019174725750.png)

éœ€è¦ä¿®æ”¹offset

![image-20231019174900529](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019174900529.png)



480å°±æ˜¯480åˆ†é’Ÿï¼Œä¹Ÿå°±æ˜¯GMT+8å•¦ï¼Œç„¶å5å°±æ˜¯5ç§’ä¸­ä¸€æ¬¡ ç”Ÿæˆæ—¥å¿—--ä½†æ˜¯ä½ çœŸè¦æ˜¯ç­‰5ç§’é’Ÿç»“æœæ˜¯æ²¡æœ‰æ–°çš„æ–‡ä»¶çš„ï¼Œå¿…é¡»æ˜¯æ»¡è¶³5såä¸”+æœ‰æ–°çš„accessæ—¥å¿—äº§ç”Ÿã€‚

![image-20231019175502640](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019175502640.png)





![image-20231019175801094](9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019175801094.png)







## httpå‹åŠ›æµ‹è¯•

<img src="9-httpåè®®è¯¦è§£å’Œç›¸å…³å·¥å…·.assets/image-20231019172228034.png" alt="image-20231019172228034" style="zoom:50%;" />



## å¼„ä¸€ä¸‹Jmeter

https://jmeter.apache.org/download_jmeter.cgi



https://www.jianshu.com/p/6bc152ca6126





é—®é¢˜è®°å½•

1ã€JAVAå®‰è£…åå°±å¯ä»¥æ‰“å¼€jmeter.batäº†

https://www.java.com/zh-CN/download/manual.jsp



