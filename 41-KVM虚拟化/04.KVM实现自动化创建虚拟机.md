# 04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.md



# 1ã€æŸ¥çœ‹æ”¯æŒçš„osçš„ä¸¤ä¸ªcli 

```shell
virt-install --osinfo list
osinfo-query os
```

![image-20251223150350946](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251223150350946.png)



 è¿™æ˜¯win2016 2008è¿™ä¸‹ğŸ‘‡

![image-20251223150616911](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251223150616911.png)



![image-20251223150820271](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251223150820271.png)



# 2ã€æ— GUIå®‰è£…è¿‡ç¨‹



## 2.1 å®¿ä¸»æœºç½‘å¡é…ç½®å¥½



ä½ çš„ç›®æ ‡æ‹“æ‰‘ï¼ˆæœ€ç»ˆå½¢æ€ï¼‰

```
        å¤–ç½‘
         |
       em1
         |
       br1  <---- å®¿ä¸»å¤–ç½‘ IP
      /   \
   vnet0  å®¿ä¸»
     |
   vm001(å¤–ç½‘)

--------------------------------

       å†…ç½‘
         |
       em2
         |
       br2  <---- å®¿ä¸»å†…ç½‘ IP
      /   \
   vnet1  å®¿ä¸»
     |
   vm001(å†…ç½‘)
```

### â‘  å¤–ç½‘æ¡¥ br1ï¼ˆå®¿ä¸»æ‹¿å¤–ç½‘ IPï¼‰

```shell
[root@phy001 system-connections]# cat /etc/NetworkManager/system-connections/br1.nmconnection
[connection]
id=br1
uuid=è¿™é‡Œä½¿ç”¨uuidgenç”Ÿæˆï¼Œåœ¨vimé‡Œè¾“å…¥:r!uuidgenå³å¯
type=bridge
interface-name=br1
autoconnect=true

[bridge]
stp=false

[ipv4]
method=auto

[ipv6]
method=ignore
```

------

### â‘¡ em1 ä½œä¸º br1 ä»å£ï¼ˆä¸æ‹¿ IPï¼‰

```shell
[root@phy001 system-connections]# cat /etc/NetworkManager/system-connections/em1.nmconnection
[connection]
id=em1
uuid=è¿™é‡Œä½¿ç”¨uuidgenç”Ÿæˆï¼Œåœ¨vimé‡Œè¾“å…¥:r!uuidgenå³å¯
type=ethernet
interface-name=ens33
autoconnect=true
master=br1
slave-type=bridge

[ethernet]

[ipv4]
method=disabled

[ipv6]
method=ignore

[proxy]
```

------

### â‘¢ å†…ç½‘æ¡¥ br2ï¼ˆå®¿ä¸»æ‹¿å†…ç½‘ IPï¼‰

```shell
[root@phy001 system-connections]# cat /etc/NetworkManager/system-connections/br2.nmconnection
[connection]
id=br2
uuid=è¿™é‡Œä½¿ç”¨uuidgenç”Ÿæˆï¼Œåœ¨vimé‡Œè¾“å…¥:r!uuidgenå³å¯
type=bridge
interface-name=br2
autoconnect=true

[bridge]
stp=false

[ipv4]
method=manual
addresses=10.100.1.1/24

[ipv6]
method=ignore
```

------

### â‘£ em2 åŠ å…¥ br2ï¼ˆä¸æ‹¿ IPï¼‰

```shell
[root@phy001 system-connections]# cat /etc/NetworkManager/system-connections/em2.nmconnection
[connection]
id=em2
uuid=è¿™é‡Œä½¿ç”¨uuidgenç”Ÿæˆï¼Œåœ¨vimé‡Œè¾“å…¥:r!uuidgenå³å¯
type=ethernet
interface-name=ens36
master=br2
slave-type=bridge
autoconnect=true

[ethernet]

[ipv4]
method=disabled

[ipv6]
method=ignore

[proxy]
```



### â‘¤ ä¿®æ”¹ç½‘å¡æ–‡ä»¶çš„æƒé™

```shell
chmod 600 /etc/NetworkManager/system-connections/*
```



------

### ğŸ” æ¿€æ´»é¡ºåºï¼ˆ**éå¸¸é‡è¦**ï¼‰

âš ï¸ å»ºè®® **æœ¬åœ°æ§åˆ¶å°æ“ä½œï¼Œä¸è¦ SSH**

```bash
nmcli connection reload
nmcli connection up br1
nmcli connection up em1
nmcli connection up br2
nmcli connection up em2
```

æ£€æŸ¥ï¼š

```bash
ip a
brctl show   # æ²¡æœ‰å°±ï¼šdnf install bridge-utils
```

ä½ åº”è¯¥çœ‹åˆ°ï¼š

- `br1` æœ‰å¤–ç½‘ IP
- `br2` æœ‰å†…ç½‘ IP
- `em1/em2` **æ²¡æœ‰ IP**
- `vnetX` è‡ªåŠ¨æŒ‚åœ¨å¯¹åº” bridge





## 2.2 ksæ–‡ä»¶å’Œisoå‡†å¤‡å¥½

```
[root@localhost data]# pwd
/data
[root@localhost data]# tree
.
â”œâ”€â”€ isos
â”‚Â Â  â””â”€â”€ Rocky-10.1-x86_64-minimal.iso
â””â”€â”€ ks
    â””â”€â”€ ks-rocky10.cfg

2 directories, 2 files
[root@localhost data]# 

```

```shell
[root@localhost data]# cat /data/ks/ks-rocky10.cfg 
# ===============================
# åŸºç¡€å®‰è£…æ–¹å¼
# ===============================
text
reboot
cdrom

# ===============================
# è¯­è¨€ / é”®ç›˜ / æ—¶åŒº
# ===============================
lang en_US.UTF-8
keyboard us
timezone Asia/Shanghai

# ===============================
# ç½‘ç»œï¼ˆDHCPï¼Œå®‰è£…åå¯æ”¹é™æ€IPï¼‰
# ===============================
network --bootproto=dhcp --device=eth0 --onboot=on

# ===============================
# Root å¯†ç 
# ===============================
rootpw --plaintext ChangeMe123!

# ===============================
# SELinux / é˜²ç«å¢™
# ===============================
selinux --disabled
firewall --disabled

# ===============================
# å¯åŠ¨å™¨
# ===============================
bootloader --location=mbr

# ===============================
# ç£ç›˜åˆ†åŒºï¼ˆLVMï¼‰ æ³¨æ„vdaè·Ÿæ€»çº¿çš„å…³ç³»
# ===============================
zerombr
ignoredisk --only-use=vda
clearpart --all --initlabel

part biosboot --fstype=biosboot --size=1
part /boot --fstype=xfs --size=1024
part /boot --fstype=xfs --size=1024
part swap --size=2048

part pv.01 --grow
volgroup vg0 pv.01

logvol / --vgname=vg0 --percent=100 --name=root --fstype=xfs


# ===============================
# è½¯ä»¶åŒ…
# ===============================
%packages --ignoremissing
@^minimal-environment
@core

curl
bash-completion
net-tools
chrony
rsyslog
lsof

-audio
-plymouth
%end

# ===============================
# å®‰è£…åé…ç½®
# ===============================
%post --log=/root/ks-post.log

# è®¾ç½®æ—¶é’Ÿ
systemctl enable chronyd
systemctl start chronyd

# å¯ç”¨ä¸²å£æ§åˆ¶å° (KVM console)
systemctl enable serial-getty@ttyS0.service

# SSH åŸºç¡€åŠ å›º
sed -i 's/^#UseDNS yes/UseDNS no/' /etc/ssh/sshd_config
sed -i 's/^GSSAPIAuthentication yes/GSSAPIAuthentication no/' /etc/ssh/sshd_config
systemctl restart sshd

# æé«˜æ–‡ä»¶å¥æŸ„
cat >> /etc/security/limits.conf <<EOF
* soft nofile 1048576
* hard nofile 1048576
* soft nproc  65535
* hard nproc  65535
EOF

# sysctl å¸¸ç”¨ä¼˜åŒ–
cat > /etc/sysctl.d/99-prod.conf <<EOF
net.ipv4.ip_forward = 0
net.ipv4.tcp_syncookies = 1
net.ipv4.tcp_tw_reuse = 1
net.core.somaxconn = 65535
fs.file-max = 2097152
vm.swappiness = 10
EOF

sysctl --system

%end


```

å¸¦æ³¨é‡Šç‰ˆğŸ‘‡

```

```

### 1ï¸âƒ£æ£€æŸ¥ksæ–‡ä»¶

![image-20251223185545997](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251223185545997.png)

```
yum -y install pykickstart

```

![image-20251223185639297](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251223185639297.png)



------

### 2ï¸âƒ£ åˆ›å»ºä¸€ä¸ªå° ISO æ–‡ä»¶ï¼ŒåªåŒ…å« KS æ–‡ä»¶

```shell
root@localhost ~]# 
[root@localhost ~]# tree /data/
/data/
â”œâ”€â”€ isos
â”‚Â Â  â””â”€â”€ Rocky-10.1-x86_64-minimal.iso
â””â”€â”€ ks
    â”œâ”€â”€ ks-rocky10.cfg
    â””â”€â”€ ks-rocky10.iso

2 directories, 3 files

```

 KS æ–‡ä»¶åœ¨å®¿ä¸»æœº `/data/ks/ks-rocky10.cfg`ï¼š

```
mkdir -p /tmp/ks-iso
cp /data/ks/ks-rocky10.cfg /tmp/ks-iso/

# åˆ›å»º ISOï¼ŒæŒ‚è½½ç‚¹ä¸ºæ ¹ç›®å½•ï¼Œâ€œinst.ks=cdrom:/ks-rocky10.cfgâ€
genisoimage -output /data/ks/ks-rocky10.iso -volid ks -joliet -rock /tmp/ks-iso
```

![image-20251223174146310](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251223174146310.png)

#### å‚æ•°è§£æ

1. **`genisoimage`**
   - ç”Ÿæˆ ISO æ–‡ä»¶çš„å‘½ä»¤ï¼Œç›¸å½“äºæŠŠä¸€ä¸ªç›®å½•æ‰“åŒ…æˆå…‰ç›˜é•œåƒã€‚
   - Rocky 10 / RHEL 10 çš„å®‰è£…å™¨å¯ä»¥è¯†åˆ« ISO ä¸Šçš„ KS æ–‡ä»¶ã€‚
2. **`-output /data/ks/ks-rocky10.iso`**
   - æŒ‡å®šç”Ÿæˆçš„ ISO æ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶åã€‚
   - è¿™é‡Œä¼šåœ¨å®¿ä¸»æœº `/data/ks/` ä¸‹ç”Ÿæˆ `ks-rocky10.iso`ã€‚
3. **`-volid ks`**
   - è®¾ç½® ISO å·æ ‡ï¼ˆvolume IDï¼‰ï¼Œç±»ä¼¼å…‰ç›˜çš„åå­—ã€‚
   - å¯ä»¥éšä¾¿å–ï¼Œä½†æœ€å¥½ç®€çŸ­ï¼Œä¸è¦æœ‰ç©ºæ ¼ã€‚
4. **`-joliet`**
   - å…è®¸ ISO æ–‡ä»¶ä¸­ä½¿ç”¨ Windows é£æ ¼é•¿æ–‡ä»¶åï¼ˆæœ€å¤š 64 ä¸ªå­—ç¬¦ï¼‰ï¼Œå…¼å®¹æ€§æ›´å¥½ã€‚
   - å¯¹ Linux å®‰è£…æ¥è¯´å¯é€‰ï¼Œä½†åŠ ä¸Šæ²¡æœ‰åå¤„ã€‚
5. **`-rock`**
   - å¼€å¯ Rock Ridge æ‰©å±•ï¼Œè®© ISO æ”¯æŒ Linux çš„æ–‡ä»¶æƒé™å’Œé•¿æ–‡ä»¶åã€‚
   - ä¿è¯ Linux è™šæ‹Ÿæœºå¯ä»¥æ­£ç¡®è¯»å–æ–‡ä»¶æƒé™ã€‚
6. **`/tmp/ks-iso`**
   - æŒ‡å®šè¦æ‰“åŒ…çš„æºç›®å½•ï¼Œè¿™é‡Œæ˜¯ä½ å­˜æ”¾ `ks-rocky10.cfg` çš„ç›®å½•ã€‚
   - ISO ä¼šæŠŠè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ä½œä¸ºå…‰ç›˜æ ¹ç›®å½•æ‰“åŒ…è¿›å»ã€‚



## 2.3 å®‰è£…å‘½ä»¤å®Œå…¨ç¦»çº¿ç‰ˆï¼š

```shell
virt-install \
--name vm001-192.168.126.130 \
--memory 2048 \
--vcpus 2 \
--cpu host \
--disk path=/var/lib/libvirt/images/vm001.qcow2,size=15,bus=virtio,cache=none \
--os-variant rocky10 \
--network bridge=br1,model=virtio \
--network bridge=br2,model=virtio \
--graphics none \
--console pty,target_type=serial \
--location /data/isos/Rocky-10.1-x86_64-minimal.iso \
--disk path=/data/ks/ks-rocky10.iso,device=cdrom \
--extra-args "inst.ks=cdrom:/ks-rocky10.cfg net.ifnames=0 biosdevname=0 inst.text console=ttyS0,115200n8"


```

```shell
virt-install \
--name vm001-192.168.126.130 \
--memory 2048 \
--vcpus 2 \
--cpu host \
--disk path=/var/lib/libvirt/images/vm001.qcow2,size=15,bus=virtio,cache=none \
--os-variant rocky10 \
--network bridge=br1,model=virtio \
--network bridge=br2,model=virtio \
--graphics none \
--console pty,target_type=serial \
--location /data/isos/Rocky-10.1-x86_64-minimal.iso \
--disk path=/data/ks/ks-rocky10.iso,device=cdrom \
--extra-args "inst.ks=cdrom:/ks-rocky10.cfg inst.text console=ttyS0,115200n8"
```

æ³¨æ„ï¼švmçš„æ—¶é—´ã€ç½‘å¡eth0

å…³é”®ç‚¹ï¼š

1. ç¬¬äºŒä¸ª `--disk` æŠŠ KS ISO ä½œä¸º CD-ROM æŒ‚è½½åˆ°è™šæ‹Ÿæœºã€‚
2. `inst.ks=cdrom:/ks-rocky10.cfg` â†’ è·¯å¾„æ˜¯ **ISO æ ¹ç›®å½•ä¸‹çš„ KS æ–‡ä»¶å**ã€‚
3. `inst.text` â†’ æ–‡æœ¬æ¨¡å¼å®‰è£…ã€‚
4. `console=ttyS0,115200n8` â†’ ä¸²å£è¾“å‡ºã€‚



**ä»¥ä¸Šçš„å®‰è£…å‘½ä»¤é…åˆä¸Šé¢ksï¼Œå®æ“æˆåŠŸï¼Œå…³é”®é˜¶æ®µæˆªå›¾å¦‚ä¸‹ï¼Œæ³¨ä¸åŒçš„ç³»ç»Ÿå®‰è£…kså¯èƒ½ä¸åŒã€‚**

![image-20251224103720442](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251224103720442.png)





![image-20251224103809220](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251224103809220.png)



![image-20251224103830634](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251224103830634.png)



![image-20251224103845809](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251224103845809.png)



![image-20251224103859474](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251224103859474.png)



![image-20251224104051993](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251224104051993.png)

è¾“å…¥ctrl + ]é€€åˆ°å®¿ä¸»æœºå±‚é¢ å†æ¬¡è¿›å…¥vish console <è™šæ‹Ÿæœºçš„åç§°>å°±å¯ä»¥äº†



# 3ã€è™šæ‹Ÿæœºåˆå§‹åŒ–(ç½‘ç»œæ¡¥æ¥)

## ğŸ–¥ï¸ è™šæ‹Ÿæœº vm001 æ€ä¹ˆæ¡¥æ¥

- ç½‘å¡1 â†’ bridge = `br1`
- ç½‘å¡2 â†’ bridge = `br2`



å¥½çš„ï¼Œæˆ‘å¸®ä½ æ•´ç†ä¸€ä¸‹ **KVM ä¸‹ç¼–è¾‘ VMï¼ˆä»¥ vm001 ä¸ºä¾‹ï¼‰æ¡¥æ¥ç½‘å¡çš„å®Œæ•´æ­¥éª¤**ï¼Œé€‚ç”¨äºå‘½ä»¤è¡Œå’Œ `virt-manager` ä¸¤ç§æ–¹å¼ã€‚

------

## **æ–¹æ³•ä¸€ï¼šå‘½ä»¤è¡Œé…ç½®ï¼ˆvirsh / XMLï¼‰**

1. **æŸ¥çœ‹è™šæ‹Ÿæœºå½“å‰ç½‘ç»œ**

```bash
virsh domiflist vm001
bridge link
```

è¾“å‡ºç¤ºä¾‹ï¼šå¯ä»¥çœ‹åˆ°forwardingçŠ¶æ€ï¼Œå…¶å®å®¿ä¸»æœºå“ªé‡Œbrå·²ç»å…³é—­stpäº†ï¼Œæ‰€ä»¥å¿…ç„¶æ˜¯forwardingäº†ã€‚

![image-20251224111005296](04.KVMå®ç°è‡ªåŠ¨åŒ–åˆ›å»ºè™šæ‹Ÿæœº.assets/image-20251224111005296.png)



```
cp -a /etc/
```





è¿™é‡Œå¯èƒ½è¦å€ŸåŠ©guiè¿›åˆ°vm001é‡Œé…ç½®IPåœ°å€

![image-20251218173344993](02.KVMæ¶æ„å’Œå®‰è£….assets/image-20251218173344993.png)

```shell
[root@vm001 system-connections]# cp -a enp1s0.nmconnection enp7s0.nmconnection
[root@vm001 system-connections]# ll
total 8
-rw-------. 1 root root 229 Dec 12 03:30 enp1s0.nmconnection
-rw-------. 1 root root 229 Dec 12 03:30 enp7s0.nmconnection

[root@vm001 system-connections]# vi enp7s0.nmconnection
[root@vm001 system-connections]# cat enp7s0.nmconnection
[connection]
id=enp7s0
uuid=b8696dcd-ecd1-4463-a56a-38c35f31c43e
type=ethernet
autoconnect=true
interface-name=enp7s0

[ethernet]

[ipv4]
method=manual
addresses=123.1.1.2/24
dns=1.1.1.1


[ipv6]
addr-gen-mode=eui64
method=auto

[proxy]
[root@vm001 system-connections]#



[root@vm001 system-connections]# nmcli conn reload
[root@vm001 system-connections]# nmcli conn up enp7s0
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4)

[root@vm001 system-connections]# nmcli conn
NAME                UUID                                  TYPE      DEVICE
enp1s0              8ff79451-b5b0-3351-8f96-e5390579b2cc  ethernet  enp1s0
enp7s0              b8696dcd-ecd1-4463-a56a-38c35f31c43e  ethernet  enp7s0
lo                  9a306733-1a3d-446c-bc83-739178574d38  loopback  lo
Wired connection 1  51a49b21-e774-3cb6-b0bd-fbe9196eb95c  ethernet  --

[root@vm001 system-connections]# ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host noprefixroute
       valid_lft forever preferred_lft forever
2: enp1s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:3b:74:51 brd ff:ff:ff:ff:ff:ff
    altname enx5254003b7451
    inet 192.168.126.130/24 brd 192.168.126.255 scope global dynamic noprefixroute enp1s0
       valid_lft 1522sec preferred_lft 1522sec
    inet6 fe80::5054:ff:fe3b:7451/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
3: enp7s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:5a:a1:87 brd ff:ff:ff:ff:ff:ff
    altname enx5254005aa187
    inet 123.1.1.2/24 brd 123.1.1.255 scope global noprefixroute enp7s0
       valid_lft forever preferred_lft forever
    inet6 fe80::5054:ff:fe5a:a187/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
[root@vm001 system-connections]# ping 123.1.1.2
PING 123.1.1.2 (123.1.1.2) 56(84) bytes of data.
64 bytes from 123.1.1.2: icmp_seq=1 ttl=64 time=0.407 ms
^C

[root@vm001 system-connections]# nmcli conn delete 'Wired connection 1'
Connection 'Wired connection 1' (51a49b21-e774-3cb6-b0bd-fbe9196eb95c) successfully deleted.
[root@vm001 system-connections]# nmcli conn
NAME    UUID                                  TYPE      DEVICE
enp1s0  8ff79451-b5b0-3351-8f96-e5390579b2cc  ethernet  enp1s0
enp7s0  b8696dcd-ecd1-4463-a56a-38c35f31c43e  ethernet  enp7s0
lo      9a306733-1a3d-446c-bc83-739178574d38  loopback  lo
[root@vm001 system-connections]#


# æŸ¥çœ‹åŒç½‘å¡åŒè·¯ç”±ã€‚
[root@vm001 system-connections]# ip route show
default via 192.168.126.2 dev enp1s0 proto dhcp src 192.168.126.130 metric 100
123.1.1.0/24 dev enp7s0 proto kernel scope link src 123.1.1.2 metric 101
192.168.126.0/24 dev enp1s0 proto kernel scope link src 192.168.126.130 metric 100


```

------





------

## ğŸ§ª éªŒè¯ä½ é¡ºåºå¯¹ä¸å¯¹ï¼ˆä¸€ä¸ªå‘½ä»¤ï¼‰

```bash
bridge link
```

ä½ ä¼šçœ‹åˆ°ï¼š

```
ens33 master br1 state forwarding
ens36 master br2 state forwarding
```

å¦‚æœé¡ºåºé”™äº†ï¼ŒçŠ¶æ€ä¼šæ˜¯ï¼š

- `disabled`
- `blocking`
- æˆ–åå¤ flap

------

## âœ… æœ€ä½³å®è·µï¼ˆä½ å¯ä»¥è®°ä½è¿™ä¸€æ¡ï¼‰

> **å‡¡æ˜¯ master / slave ç»“æ„ï¼ˆbridgeã€bondã€teamï¼‰ï¼š**
>
> **æ°¸è¿œå…ˆ up masterï¼Œå† up slave**

------

## ğŸ§  å†è¡¥ä¸€å¥ï¼ˆè¿ç»´ç»éªŒï¼‰

åœ¨ç”Ÿäº§ä¸Šæˆ‘ä»¬ä¸€èˆ¬ï¼š

```bash
nmcli conn reload
nmcli conn up br1
nmcli conn up br2
# ç¡®è®¤æ²¡é—®é¢˜
nmcli conn up em1
nmcli conn up em2
```

ä¸­é—´ç•™ **å‡ ç§’è§‚å¯Ÿ**ï¼Œé¿å…â€œå…¨ç½‘ä¸€æŠŠæ¢­â€ã€‚



