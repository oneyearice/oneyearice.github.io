# 06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».md





å¼€æœºè‡ªå¯åŠ¨

1ã€ln -s çš„æ–¹æ³•ï¼Œè¦é‡å¯libvirtdé«˜ç‰ˆæœ¬å«virtqemud ä½¿ä¹‹ç”Ÿæ•ˆ

![image-20251216171341888](06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20251216171341888.png)



2ã€GUIä¹Ÿå°±æ˜¯virt-manageræˆ–vncé‡Œé…ç½®

3ã€virsh å‘½ä»¤é…ç½®

```
virsh autostart 
```

![image-20260107164353618](06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107164353618.png)

# vmçš„ä¸¤ä¸ªé‡è¦æ–‡ä»¶

virsh edit çš„æœ¬è´¨å°±æ˜¯ä¿®æ”¹äº†è¿™äº›æ–‡ä»¶

![image-20260107113853952](06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107113853952.png)



KVMè™šæ‹Ÿæœºå°±ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯é…ç½®æ–‡ä»¶xmlï¼Œä¸€ä¸ªæ˜¯ç£ç›˜æ–‡ä»¶qcow2ï¼Œè¿ç§»å°±è¿™ä¸¤æ–‡ä»¶ç§»èµ°

![image-20260107114217290](06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107114217290.png)

ä½ æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶æ‰¾åˆ°äº†ï¼Œè¿™ä¸ªvmçš„æ‰€æœ‰å†…å®¹å°±åœ¨äº†ã€‚



vmware workstaioné‡Œä¹Ÿæ˜¯ä¸€æ ·ï¼Œvmdkå°±ç›¸å½“äºqcow2ï¼Œ

<img src="06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107114413879.png" alt="image-20260107114413879" style="zoom:50%;" /> 



è¿™æ˜¯é…ç½®æ–‡ä»¶ğŸ‘‡

<img src="06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107114450884.png" alt="image-20260107114450884" style="zoom:50%;" />



æ‰“å¼€å°±æ˜¯å¦‚ä¸‹é…ç½®å†…å®¹

<img src="06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107114524510.png" alt="image-20260107114524510" style="zoom:50%;" />



## vmè¿ç§»

1ã€å¤åˆ¶xmlæ–‡ä»¶

![image-20260107143956317](06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107143956317.png)

2ã€å¤åˆ¶diskæ–‡ä»¶

![image-20260107144133255](06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107144133255.png)

3ã€é‡å¯libvirtdï¼Œé«˜ç‰ˆæœ¬é‡å¯virtqemud



å¦‚æœæŠŠubuntuä¸Šçš„vmè¿ç§»åˆ°rockyä¸Šï¼Œå¯åŠ¨çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºå¯åŠ¨ä¾èµ–çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸ä¸€æ ·ã€‚

<img src="06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107150731473.png" alt="image-20260107150731473" style="zoom:60%;" />



## å®¿ä¸»æœºçš„stpä¿¡æ¯

å…³æ³¨ä¸‹ğŸ‘‡

![image-20260107182209032](06.KVMåˆ›å»ºWindowsçš„æ¨¡æ¿å’Œlibvirtç›¸å…³å·¥å…·åŠè™šæ‹Ÿæœºè¿ç§».assets/image-20260107182209032.png)



